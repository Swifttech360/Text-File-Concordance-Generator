/* Copyright (c) 2017 WalkMe v2.14.14 */
;(function () { var __wmPrelibConfig = {"buildDate":"2023-06-29T17:37:50.803Z","plugins":[{"name":"wm-plugin-user-behavior@5.0.71@prelib","url":"prelib"},{"name":"wm-plugin-accessibility@2.7.1@prelib","url":"prelib"}]};
!function(t){function e(r){if(n[r])return n[r].exports;var o=n[r]={exports:{},id:r,loaded:!1};return t[r].call(o.exports,o,o.exports,e),o.loaded=!0,o.exports}var n={};e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){function r(){return y}var o=n(1),i=n(6),a=n(7),u=n(8).promiseManager,s=n(10).PluginsManager,c=n(11).EventsTrigger,f=n(11).EventsListener,l=n(14).LegoDI,p=n(15);window._walkmeInternals=window._walkmeInternals||{};var d=o["default"],h=new d({Promise:u.Promise,document:document});window._walkmeInternals.wmloader=h;var v=o.ActivationManager,g=new v({wmLoader:h});window._walkmeInternals.plugins=g;var y;i(window._walkmeInternals);var m=window._walkmeInternals.ctx;m.register("PromiseManager").asInstance(u),m.register("Promise").asCtor(u.Promise).asProto(),y=new l(window._walkmeInternals,s,u);var w=wmjQuery({}),_=new c(w,u),b=new f(w);window._walkmeInternals.events={listener:b,trigger:_,_eventsBase:w},y.ctx.register("EventsTrigger").asInstance(_),y.ctx.register("EventsListener").asInstance(b),y.ctx.register("PrelibLogger").asInstance(a);var E=function(){var t,e=window.wmSnippet||window.wmPlaySnippet||window.wmPreviewSnippet;return e&&(t=e.getSettingsFile()),t||(t={}),t}();u.resolve().then(function(){return p(__wmPrelibConfig,r,h)})["catch"](function(t){a.write("cannot load plugins"),a.write(t)}).then(function(){return a.write("starting plugins"),y.start(E)}).then(function(){a.write("plugins started")})["catch"](function(t){a.write("cannot start plugins"),a.write(t)})},function(t,e,n){"use strict";function r(t){function e(t,e,n){if(c.pluginsStateWrapper.shouldLoad(t)){var o=T[t]=T[t]||{name:t};if(o.factory||(o.factory=n,o.build=e),o.resolve)try{g(o,r(o))}catch(i){v(o,a(i,t))}}}function n(t,e){if(!t)throw new Error("cannot load module without a name");if(!e)throw new Error("cannot load module without an URL");if(!c.pluginsStateWrapper.shouldLoad(t))return P.push(t),_.resolve(function(e){(0,f.dummyPlugin)(e,t)});var n=T[t]=T[t]||{name:t};if(!n.promise)if(n.factory)n.promise=_.resolve(r(n));else{h(n);var o=l(t,e);"loaded"===o.status?v(n,u(t,e)):"error"===o.status&&v(n,s(t,e))}return n.promise}function r(t){return t.factory(t.build)}function l(t,e){var n=j[e];if(n)n.packages[t]=!0;else{var r;n=j[e]={url:e,status:"loading",start:new Date,packages:(r={},r[t]=!0,r)};var o=d(e);p(o,e),k.appendChild(o)}return n}function p(t,e){if(t.addEventListener)t.addEventListener("load",S(e),!1),t.addEventListener("error",A(e),!1);else{if(!t.attachEvent)throw new Error("neither addEventListener nor attachEvent is supported");t.attachEvent("onreadystatechange",S(e))}}function d(t){var e=b.createElement("script");return e.type="text/javascript",e.charset="utf-8",e.async=!0,e.src=t,e}function h(t){t.promise=new _(function(e,n){t.resolve=e,t.reject=n})}function v(t,e){w(e),t.reject(e),y(t)}function g(t,e){t.resolve(e),y(t)}function y(t){delete t.resolve,delete t.reject}function m(t){t.parentNode.removeChild(t)}function w(t){t.date=new Date,x.push(t)}var _=t.Promise,b=t.document,E=this;E.load=n,E.define=e;var k=b.getElementsByTagName("head")[0],j={},T={},x=[],P=[];E.bundles=j,E.packages=T,E.errors=x,E.inactive=P;var S=function(t){return function(e){if(o(e)){var n=j[t];n.status="loaded",n.loadMs||(n.loadMs=(new Date).getTime()-n.start);for(var r in n.packages)if(n.packages.hasOwnProperty(r)){var a=T[r];a.reject&&v(a,u(r,t))}m(i(e))}}},A=function(t){return function(e){var n=j[t];n.status="error",n.loadMs||(n.loadMs=(new Date).getTime()-n.start);for(var r in n.packages)if(n.packages.hasOwnProperty(r)){var o=T[r];o.reject&&v(o,s(r,t))}m(i(e))}}}function o(t){if("load"===t.type)return!0;var e=i(t),n=e.readyState;return"complete"===n||"loaded"===n}function i(t){return t.currentTarget||t.srcElement}function a(t,e){var n=new Error("error thrown in factory. package: "+e+"\ncaused by:\n"+t.stack);return n.name="FactoryError",n.cause=t,n["package"]=e,n}function u(t,e){var n=new Error("package not found in the specified bundle. package: "+t+", bundle: "+e);return n.name="PackageNotFound",n["package"]=t,n.bundle=e,n}function s(t,e){var n=new Error("cannot load bundle. package: "+t+", bundle: "+e);return n.name="BundleLoadError",n["package"]=t,n.bundle=e,n}e.__esModule=!0,e["default"]=r;var c=n(2),f=n(4),l=n(5);e.ActivationManager=l.ActivationManager},function(t,e,n){"use strict";function r(){function t(t){return!(0===i[t])}function e(t){o.cookieManager.setCookie(a,JSON.stringify(t),86400)}function n(){return JSON.parse(o.cookieManager.getCookie(a)||"{}")}var r=this;r.shouldLoad=t,r.saveState=e,r.getState=n;var i=void 0,a="walkme_prelib_activ_state";!function(){i=JSON.parse(o.cookieManager.getCookie(a)||"{}")}()}e.__esModule=!0,e.pluginsStateWrapper=undefined;var o=n(3);e.pluginsStateWrapper=new r},function(t,e){"use strict";function n(){function t(){return"https:"===window.location.protocol}function e(t,e,n,r){"string"!=typeof e&&(e=e.toString()),e=encodeURIComponent(e);var a="";r&&r.length>0&&(a="; domain="+r);var u=new Date;u.setTime(u.getTime()+1e3*n);var s="; expires="+u.toUTCString(),c=i?o:"",f=e+s+"; path=/"+a;document.cookie=t+"="+f+c}function n(t){for(var e=document.cookie.split(";"),n=0;n<e.length;n++){var r=e[n].substr(0,e[n].indexOf("=")),o=e[n].substr(e[n].indexOf("=")+1);if((r=r.replace(/^\s+|\s+$/g,""))===t)return decodeURIComponent(o)}}var r=this;r.setCookie=e,r.getCookie=n;var o=";secure",i=void 0;!function(){i=t()}()}e.__esModule=!0;e.cookieManager=new n},function(t,e){"use strict";function n(t,e){t().ctx.get("PrelibLogger").write("[wm-loader] "+e+" is disabled and therefore not loaded")}e.__esModule=!0,e.dummyPlugin=n},function(t,e,n){"use strict";function r(t){function e(){var t=[];for(var e in c.packages)c.packages.hasOwnProperty(e)&&t.push({name:e,isActive:!0});for(var n=0;n<c.inactive.length;n++)t.push({name:c.inactive[n],isActive:!1});return t}function n(t){u(t,l.inactive)}function r(t){u(t,l.active)}function i(){s(l.active)}function a(){s(l.inactive)}function u(t,e){var n=o.pluginsStateWrapper.getState();n[t]=e,o.pluginsStateWrapper.saveState(n)}function s(t){var e={};for(var n in c.packages)c.packages.hasOwnProperty(n)&&(e[n]=t);for(var r=0;r<c.inactive.length;r++)e[c.inactive[r]]=t;o.pluginsStateWrapper.saveState(e)}var c=t.wmLoader,f=this;f.list=e,f.deactivateAll=a,f.activateAll=i,f.activate=r,f.deactivate=n;var l={active:1,inactive:0}}e.__esModule=!0,e.ActivationManager=r;var o=n(2)},function(t,e){!function(){function e(t,e){this._object=undefined,this._name=t,this._ctx=e,this.properties={strategy:i.defaults.strategy,factory:i.defaults.factory,injector:i.defaults.injector,load:i.defaults.load,wasReady:!1,initialize:!0}}e.prototype.name=function(){return this._name},e.prototype.asFactory=function(t,e){return e!=undefined&&this.type(e),this.factory(t),this},e.prototype.loadDependencies=function(t,e){return e!=undefined&&this.dependencies(e),this.load(t),this},e.prototype.asFunction=function(t){return this.asFactory(i.factory.func,t)},e.prototype.asInstance=function(t){return this.asFactory(i.factory.instance,t)},e.prototype.asCtor=function(t){return this.asFactory(i.factory.constructor,t)},e.prototype.asSingleton=function(){return this.strategy(i.strategy.singleton)},e.prototype.asProto=function(){return this.strategy(i.strategy.proto)},e.prototype.injectToCtor=function(){return this.injector(i.injector.ctor)},e.prototype.injectToReady=function(){return this.injector(i.injector.ready)},e.prototype.injectToProperty=function(){return this.injector(i.injector.property)},e.prototype.flatDependencies=function(t){return this.loadDependencies(i.load.flat,t)},e.prototype.recursiveDependencies=function(t){return this.loadDependencies(i.load.recursive,t)},e.prototype.useOnce=function(){var t=this.getObject;return this.getObject=function(){return this._ctx.map[this.name()]=null,t.apply(this,arguments)},this},e.prototype.depsDictionary=function(t){return arguments.length?(this.properties.depsDictionary=t,this):(this.properties.depsDictionary||this.depsDictionary(this._ctx.resolve(this)),this.properties.depsDictionary)},e.prototype.create=function(t,e,n){n=n||i.load.recursive;var r=this.properties.strategy.test(this._object,n);if(e)return r;r&&(t=this.properties.injector.create(t||this.properties.args,this,this._ctx,n));var o=this.properties.strategy.create(this._object,this.properties.factory,this.properties.type,t,this._ctx,this,n);return this._ctx.ready(o,this)},e.prototype.getObject=function(t){return this.create(undefined,undefined,t)},e.prototype.object=function(t){return arguments.length?(this._object=t,this):this.create()};for(var n=["load","wasReady","strategy","injector","type","dependencies","args","factory","initialize"],r=0;r<n.length;r++){var o=n[r];!function(t){e.prototype[t]=function(e){return arguments.length?(this.properties[t]=e,this):this.properties[t]}}(o)}/**
	 * @license
	 *  Copyright 2013 the original author or authors.
	 *  Licensed under the Apache License, Version 2.0 (the "License");
	 *  You may obtain a copy of the License at
	 *
	 *		http://www.apache.org/licenses/LICENSE-2.0
	    *
	    *  Unless required by applicable law or agreed to in writing, software
	    *  distributed under the License is distributed on an "AS IS" BASIS,
	    *  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
	    *  See the License for the specific language governing permissions and
	    *  limitations under the License.
	    */
var i=function(t){function n(t,e,n,r,o){var i=t(e,n,o),a=r.decorators[o.name()];if(a)for(var u=0;u<a.length;u++)i=a[u](i);return i}t=t||{},t.version="0.3.3";return t.logger=function(t,e){},t.log=function(e,n,r){n&&(e="[class="+n.name()+"] "+e),t.logger("DI - "+e,r||4)},t.error=function(e,n,r){t.log(e,n,r)},t.createContext=function(){function e(t){for(;t.indexOf(" ")>=0;)t=t.replace(" ","");return t}var n={map:{},decorators:{}};return n.decorate=function(t,e){n.decorators[t]||(n.decorators[t]=[]),n.decorators[t].push(e)},n.entry=function(t){return n.map[t]},n.register=function(e,r,o){var i=t.entry(e,n).type(r).args(o);return n.map[e]=i,i},n.has=function(t){return null!=n.entry(t)},n.remove=function(t){return!!n.has(t)&&(n.map[t]=null,!0)},n.isEntryRemoved=function(t){return null===n.entry(t)},n.get=function(e,r){return n.isEntryRemoved(e)&&t.error("Object["+e+"] was removed"),n.has(e)||t.error("Object["+e+"] is not registered"),n.entry(e).getObject(r)},n.create=function(e,r){if(n.entry(e).strategy()==t.strategy.singleton&&t.error("Attempt to create singleton object ["+e+"]"),n.has(e))return n.entry(e).create(r);t.error("Object["+e+"] is not registered")},n.initialize=function(){function e(e){var r=n.entry(e);r?r.initialize()&&r.strategy().initialize()&&n.get(e):t.error("Object["+e+"] is not registered")}return function(t){if(t)e(t);else for(var t in n.map)e(t)}}(),n.clear=function(){this.map={},this.decorators={}},n.resolve=function(e){var r=e.load(),o={};return n.eachDependency(e.dependencies(),function(i,a){var u=n.get(i,r);n.ready(u,n.entry(i)),null==u&&t.error("Dependency ["+e.name()+"."+a+"]->["+i+"] can not be satisfied",e),o[a]=u}),o},n.eachDependency=function(n,r){if(n)for(var o=e(n).split(","),i=0;i<o.length;i++){var a=o[i];if(a){var u=t.dependencyExpression(a);try{r(u.name,u.property,i)}catch(s){t.error("An exception was thrown while the DI tried to resolve class '"+u.name+"'. Check the class name, or if it was registred correctly. \r\n inner exception: \r\n"+s.message)}}}},n.ready=function(t,e){if(null===e&&t)return t;var r=e.wasReady();if(e.wasReady(!0),!r){var o=n.createCallback();o&&o(e.name(),t),t&&"function"==typeof t.ready&&t!=window&&t!=window.document&&t!=window.document.body&&(e.wasReady(!0),t.ready.apply(t,e.injector().ready(t,e)||[]))}return t},n.createCallback=function(){var t;return function(e){return 0==arguments.length?t:(t=e,n)}}(),n},t.dependencyExpression=function(t){var e={},n=t,r=t;if(t.indexOf("=")>0){var o=t.split("=");n=o[0],r=o[1]}return e.name=r,e.property=n,e},t.entry=function(t,n){return new e(t,n)},t.strategy={proto:{test:function(t,e){return!e||e()},initialize:function(){return!1},create:function(t,e,r,o,i,a,u){return t=n(e,r,o,i,a),u()&&a.injector().ready(t,a),a.depsDictionary(undefined),a.wasReady(!1),t}},singleton:{test:function(t,e){return!t&&(!e||e())},initialize:function(){return!0},create:function(t,e,r,o,i,a,u){return t||(t=n(e,r,o,i,a),a.object(t),a.wasReady(!0),u()&&a.injector().ready(t,a),a.wasReady(!1)),t}}},t.factory={constructor:function(e,n,r){return n instanceof Array?n.length<=10?new e(n[0],n[1],n[2],n[3],n[4],n[5],n[6],n[7],n[8],n[9]):n.length<=30?new e(n[0],n[1],n[2],n[3],n[4],n[5],n[6],n[7],n[8],n[9],n[10],n[11],n[12],n[13],n[14],n[15],n[16],n[17],n[18],n[19],n[20],n[21],n[22],n[23],n[24],n[25],n[26],n[27],n[28],n[29]):void t.error("trying to create a class with too many args!",r):new e(n)},func:function(t,e,n){return e instanceof Array?t.apply(t,e):t(e)},instance:function(t,e,n){return t}},t.injector={property:{create:function(t,e,n){return t},ready:function(t,e){var n=e.depsDictionary();for(var r in n)t[r]=n[r];var o=e.args();o==undefined||n.hasOwnProperty("args")||(t.args=o)}},ready:{create:function(t,e,n){return t},ready:function(t,e){var n=e.args(),r=[],o=e.depsDictionary();if(a.eachDependency(e.dependencies(),function(t,e,n){r[n]=o[e]}),n){n=n instanceof Array?n:[n];for(var i=0;i<n.length;i++)r.push(n[i])}return r}},ctor:{create:function(t,e,n){var r=[],o=e.depsDictionary();if(n.eachDependency(e.dependencies(),function(t,e,n){r[n]=o[e]}),t){t=t instanceof Array?t:[t];for(var i=0;i<t.length;i++)r.push(t[i])}return r},ready:function(t,e){}}},t.load={flat:function(t,e,n){return!1},recursive:function(t,e,n){return!0}},t.defaults={strategy:t.strategy.singleton,factory:t.factory.constructor,injector:t.injector.ctor,load:t.load.recursive},t}(),a=i.createContext();t.exports=function(t){t.di=i,t.ctx=a}}()},function(t,e){"use strict";function n(){if(p()){var t=arguments;try{t.stack=(new Error).stack}catch(n){}a(t);var e=Array().slice.call(t);console.log.apply(console,e)}w()&&(_walkmeInternals.ctx.has("DataSenderLog")?(r(),i(m(arguments))):S.push(m(arguments)))}function r(){for(;S.length;)i(S.shift())}function o(){return k||(k=_walkmeInternals.ctx.get("GuidGenerator").generateGuid()),k}function i(t){_walkmeInternals.ctx.get("EventCollectorLogger").log("info",t,{component:"prelib",_logSessionId:o()})}function a(t){var e=new Date;t.timeElapsed=e-(E||e),E=e,P.unshift(t),P=P.splice(0,T)}function u(){return P}function s(t){j=t}function c(){return j}function f(){b=!0,v(j,!0)}function l(){b=!1,v(j,"",-1)}function p(){return void 0!==b?b:(d(),b)}function d(){var t=window.console&&(h(j)||!1);b=t&&"true"==t.toString().toLowerCase()}function h(t){var e=document.cookie.match("(^|;)\\s*"+t+"\\s*=\\s*([^;]+)");return e?e.pop():undefined}function v(t,e,n){var r,o="";n&&(r=new Date,r.setTime(r.getTime()+864e5*n),o="; expires="+r.toUTCString()),document.cookie=t+"="+e+o+"; path=/"}function g(t){var e=parseInt(t);return!isNaN(e)&&e==t}function y(){var t=new Date;return t.setDate(t.getDate()+1),t.setHours(0,0,0,0)}function m(t){for(var e="",n=0,r=t.length;n<r;n++){e=e+("string"==typeof t[n]?t[n]:JSON.stringify(t[n]))+" "}return e.slice(0,-1)}function w(){if("boolean"==typeof _)return _;_=!1;var t=localStorage.getItem(x);return g(t)&&Date.now()<t?_=!0:"true"===t&&(_=!0,localStorage.setItem(x,y())),_}var _,b,E,k,j="walkme_prelib_log_enabled",T=1e4,x="wm-prelib-send-logs",P=[],S=[],A={write:n,getCookieName:c,setCookieName:s,enableLog:f,disableLog:l,isLogEnabled:p,readCookie:h,writeCookie:v,getLogHistoryRecords:u};t.exports=A},function(t,e,n){(function(t,r){function o(){var t=document.createElement("iframe");return t.id="walkme-native-functions",t.style.display="none",t.style.position="absolute",t.style.visibility="hidden",t.style.zIndex="-2147483647",document.body.appendChild(t),t.contentWindow}var i=function(){var t=document.getElementById("walkme-native-functions");return t?t.contentWindow:o()}(),a=i&&i.Promise,u={};a?(a.Promise=i.Promise,u=a,u.on=function(){},u.defer=function(){return wmjQuery.Deferred()}):/*!
	  * @overview RSVP - a tiny implementation of Promises/A+.
	  * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors
	  * @license   Licensed under MIT license
	  *            See https://raw.githubusercontent.com/tildeio/rsvp.js/master/LICENSE
	  * @version   3.1.0
	  */
u=function(){"use strict";function e(t){return"function"==typeof t||"object"==typeof t&&null!==t}function o(t){return"function"==typeof t}function i(t){return"object"==typeof t&&null!==t}function a(){}function u(t,e){for(var n=0,r=t.length;n<r;n++)if(t[n]===e)return n;return-1}function s(t){var e=t._promiseCallbacks;return e||(e=t._promiseCallbacks={}),e}function c(t,e){return"onerror"===t?void _t.on("error",e):2!==arguments.length?_t[t]:void(_t[t]=e)}function f(){setTimeout(function(){for(var t,e=0;e<bt.length;e++){t=bt[e];var n=t.payload;n.guid=n.key+n.id,n.childGuid=n.key+n.childId,n.error&&(n.stack=n.error.stack),_t.trigger(t.name,t.payload)}bt.length=0},50)}function l(t,e,n){1===bt.push({name:t,payload:{key:e._guidKey,id:e._id,eventName:t,detail:e._result,childId:n&&n._id,label:e._label,timeStamp:yt(),error:_t["instrument-with-stack"]?new Error(e._label):null}})&&f()}function p(){return new TypeError("A promises callback cannot return that same promise.")}function d(){}function h(t){try{return t.then}catch(e){return xt.error=e,xt}}function v(t,e,n,r){try{t.call(e,n,r)}catch(o){return o}}function g(t,e,n){_t.async(function(t){var r=!1,o=v(n,e,function(n){r||(r=!0,e!==n?w(t,n):b(t,n))},function(e){r||(r=!0,E(t,e))},"Settle: "+(t._label||" unknown promise"));!r&&o&&(r=!0,E(t,o))},t)}function y(t,e){e._state===jt?b(t,e._result):e._state===Tt?(e._onError=null,E(t,e._result)):k(e,undefined,function(n){e!==n?w(t,n):b(t,n)},function(e){E(t,e)})}function m(t,e){if(e.constructor===t.constructor)y(t,e);else{var n=h(e);n===xt?E(t,xt.error):n===undefined?b(t,e):o(n)?g(t,e,n):b(t,e)}}function w(t,n){t===n?b(t,n):e(n)?m(t,n):b(t,n)}function _(t){t._onError&&t._onError(t._result),j(t)}function b(t,e){t._state===kt&&(t._result=e,t._state=jt,0===t._subscribers.length?_t.instrument&&Et("fulfilled",t):_t.async(j,t))}function E(t,e){t._state===kt&&(t._state=Tt,t._result=e,_t.async(_,t))}function k(t,e,n,r){var o=t._subscribers,i=o.length;t._onError=null,o[i]=e,o[i+jt]=n,o[i+Tt]=r,0===i&&t._state&&_t.async(j,t)}function j(t){var e=t._subscribers,n=t._state;if(_t.instrument&&Et(n===jt?"fulfilled":"rejected",t),0!==e.length){for(var r,o,i=t._result,a=0;a<e.length;a+=3)r=e[a],o=e[a+n],r?P(n,r,o,i):o(i);t._subscribers.length=0}}function T(){this.error=null}function x(t,e){try{return t(e)}catch(n){return Pt.error=n,Pt}}function P(t,e,n,r){var i,a,u,s,c=o(n);if(c){if(i=x(n,r),i===Pt?(s=!0,a=i.error,i=null):u=!0,e===i)return void E(e,p())}else i=r,u=!0;e._state!==kt||(c&&u?w(e,i):s?E(e,a):t===jt?b(e,i):t===Tt&&E(e,i))}function S(t,e){var n=!1;try{e(function(e){n||(n=!0,w(t,e))},function(e){n||(n=!0,E(t,e))})}catch(r){E(t,r)}}function A(t,e,n){return t===jt?{state:"fulfilled",value:n}:{state:"rejected",reason:n}}function C(t,e,n,r){var o=this;o._instanceConstructor=t,o.promise=new t(d,r),o._abortOnReject=n,o._validateInput(e)?(o._input=e,o.length=e.length,o._remaining=e.length,o._init(),0===o.length?b(o.promise,o._result):(o.length=o.length||0,o._enumerate(),0===o._remaining&&b(o.promise,o._result))):E(o.promise,o._validationError())}function M(t,e){return new St(this,t,!0,e).promise}function D(t,e){function n(t){w(i,t)}function r(t){E(i,t)}var o=this,i=new o(d,e);if(!gt(t))return E(i,new TypeError("You must pass an array to race.")),i;for(var a=t.length,u=0;i._state===kt&&u<a;u++)k(o.resolve(t[u]),undefined,n,r);return i}function L(t,e){var n=this;if(t&&"object"==typeof t&&t.constructor===n)return t;var r=new n(d,e);return w(r,t),r}function O(t,e){var n=this,r=new n(d,e);return E(r,t),r}function I(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function R(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}function N(t,e){var n=this;n._id=Ot++,n._label=e,n._state=undefined,n._result=undefined,n._subscribers=[],_t.instrument&&Et("created",n),d!==t&&(o(t)||I(),n instanceof N||R(),S(n,t))}function W(t,e,n){this._superConstructor(t,e,!1,n)}function B(t,e){return new W(It,t,e).promise}function F(t,e){return It.all(t,e)}function U(t,e){Kt[Ft]=t,Kt[Ft+1]=e,2===(Ft+=2)&&Nt()}function z(){return function(){Rt(H)}}function G(){return function(){setTimeout(H,1)}}function H(){for(var t=0;t<Ft;t+=2){(0,Kt[t])(Kt[t+1]),Kt[t]=undefined,Kt[t+1]=undefined}Ft=0}function J(t){var e={};return e.promise=new It(function(t,n){e.resolve=t,e.reject=n},t),e}function Y(t,e,n){return It.all(t,n).then(function(t){if(!o(e))throw new TypeError("You must pass a function as filter's second argument.");for(var r=t.length,i=new Array(r),a=0;a<r;a++)i[a]=e(t[a]);return It.all(i,n).then(function(e){for(var n=new Array(r),o=0,i=0;i<r;i++)e[i]&&(n[o]=t[i],o++);return n.length=o,n})})}function K(t,e,n){this._superConstructor(t,e,!0,n)}function Q(t,e,n){this._superConstructor(t,e,!1,n)}function $(t,e){return new Q(It,t,e).promise}function q(t,e){return new qt(It,t,e).promise}function V(t,e,n){return It.all(t,n).then(function(t){if(!o(e))throw new TypeError("You must pass a function as map's second argument.");for(var r=t.length,i=new Array(r),a=0;a<r;a++)i[a]=e(t[a]);return It.all(i,n)})}function X(){this.value=undefined}function Z(t){try{return t.then}catch(e){return te.value=e,te}}function tt(t,e,n){try{t.apply(e,n)}catch(r){return te.value=r,te}}function et(t,e){for(var n,r,o={},i=t.length,a=new Array(i),u=0;u<i;u++)a[u]=t[u];for(r=0;r<e.length;r++)n=e[r],o[n]=a[r+1];return o}function nt(t){for(var e=t.length,n=new Array(e-1),r=1;r<e;r++)n[r-1]=t[r];return n}function rt(t,e){return{then:function(n,r){return t.call(e,n,r)}}}function ot(t,e){var n=function(){for(var n,r=this,o=arguments.length,i=new Array(o+1),a=!1,u=0;u<o;++u){if(n=arguments[u],!a){if((a=ut(n))===ee){var s=new It(d);return E(s,ee.value),s}a&&!0!==a&&(n=rt(a,n))}i[u]=n}var c=new It(d);return i[o]=function(t,n){t?E(c,t):e===undefined?w(c,n):!0===e?w(c,nt(arguments)):gt(e)?w(c,et(arguments,e)):w(c,n)},a?at(c,i,t,r):it(c,i,t,r)};return n.__proto__=t,n}function it(t,e,n,r){var o=tt(n,r,e);return o===te&&E(t,o.value),t}function at(t,e,n,r){return It.all(e).then(function(e){var o=tt(n,r,e);return o===te&&E(t,o.value),t})}function ut(t){return!(!t||"object"!=typeof t)&&(t.constructor===It||Z(t))}function st(t,e){return It.race(t,e)}function ct(t,e){return It.reject(t,e)}function ft(t,e){return It.resolve(t,e)}function lt(t){throw setTimeout(function(){throw t}),t}function pt(t,e){_t.async(t,e)}function dt(){_t.on.apply(_t,arguments)}function ht(){_t.off.apply(_t,arguments)}var vt;vt=Array.isArray?Array.isArray:function(t){return"[object Array]"===Object.prototype.toString.call(t)};var gt=vt,yt=Date.now||function(){return(new Date).getTime()},mt=Object.create||function(t){if(arguments.length>1)throw new Error("Second argument not supported");if("object"!=typeof t)throw new TypeError("Argument must be an object");return a.prototype=t,new a},wt={mixin:function(t){return t.on=this.on,t.off=this.off,t.trigger=this.trigger,t._promiseCallbacks=undefined,t},on:function(t,e){if("function"!=typeof e)throw new TypeError("Callback must be a function");var n,r=s(this);n=r[t],n||(n=r[t]=[]),-1===u(n,e)&&n.push(e)},off:function(t,e){var n,r,o=s(this);if(!e)return void(o[t]=[]);n=o[t],-1!==(r=u(n,e))&&n.splice(r,1)},trigger:function(t,e,n){var r,o=s(this);if(r=o[t])for(var i=0;i<r.length;i++)(0,r[i])(e,n)}},_t={instrument:!1};wt.mixin(_t);var bt=[],Et=l,kt=void 0,jt=1,Tt=2,xt=new T,Pt=new T,St=C;C.prototype._validateInput=function(t){return gt(t)},C.prototype._validationError=function(){return new Error("Array Methods must be provided an Array")},C.prototype._init=function(){this._result=new Array(this.length)},C.prototype._enumerate=function(){for(var t=this,e=t.length,n=t.promise,r=t._input,o=0;n._state===kt&&o<e;o++)t._eachEntry(r[o],o)},C.prototype._eachEntry=function(t,e){var n=this,r=n._instanceConstructor;i(t)?t.constructor===r&&t._state!==kt?(t._onError=null,n._settledAt(t._state,e,t._result)):n._willSettleAt(r.resolve(t),e):(n._remaining--,n._result[e]=n._makeResult(jt,e,t))},C.prototype._settledAt=function(t,e,n){var r=this,o=r.promise;o._state===kt&&(r._remaining--,r._abortOnReject&&t===Tt?E(o,n):r._result[e]=r._makeResult(t,e,n)),0===r._remaining&&b(o,r._result)},C.prototype._makeResult=function(t,e,n){return n},C.prototype._willSettleAt=function(t,e){var n=this;k(t,undefined,function(t){n._settledAt(jt,e,t)},function(t){n._settledAt(Tt,e,t)})};var At=M,Ct=D,Mt=L,Dt=O,Lt="rsvp_"+yt()+"-",Ot=0,It=N;N.cast=Mt,N.all=At,N.race=Ct,N.resolve=Mt,N.reject=Dt,N.prototype={constructor:N,_guidKey:Lt,_onError:function(t){var e=this;_t.after(function(){e._onError&&_t.trigger("error",t,e._label)})},then:function(t,e,n){var r=this,o=r._state;if(o===jt&&!t||o===Tt&&!e)return _t.instrument&&Et("chained",r,r),r;r._onError=null;var i=new r.constructor(d,n),a=r._result;if(_t.instrument&&Et("chained",r,i),o){var u=arguments[o-1];_t.async(function(){P(o,i,u,a)})}else k(r,i,t,e);return i},"catch":function(t,e){return this.then(undefined,t,e)},"finally":function(t,e){var n=this,r=n.constructor;return n.then(function(e){return r.resolve(t()).then(function(){return e})},function(e){return r.resolve(t()).then(function(){throw e})},e)}},W.prototype=mt(St.prototype),W.prototype._superConstructor=St,W.prototype._makeResult=A,W.prototype._validationError=function(){return new Error("allSettled must be called with an array")};var Rt,Nt,Wt=B,Bt=F,Ft=0,Ut=U,zt="undefined"!=typeof window?window:undefined,Gt=zt||{},Ht=Gt.MutationObserver||Gt.WebKitMutationObserver,Jt="undefined"==typeof self&&void 0!==t&&"[object process]"==={}.toString.call(t),Yt="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel,Kt=new Array(1e3);Nt=Jt?function(){var e=t.nextTick,n=t.versions.node.match(/^(?:(\d+)\.)?(?:(\d+)\.)?(\*|\d+)$/);return Array.isArray(n)&&"0"===n[1]&&"10"===n[2]&&(e=setImmediate),function(){e(H)}}():Ht?function(){var t=0,e=new Ht(H),n=document.createTextNode("");return e.observe(n,{characterData:!0}),function(){n.data=t=++t%2}}():Yt?function(){var t=new MessageChannel;return t.port1.onmessage=H,function(){t.port2.postMessage(0)}}():zt===undefined?function(){try{var t=n(!function(){var t=new Error('Cannot find module "vertx"');throw t.code="MODULE_NOT_FOUND",t}());return Rt=t.runOnLoop||t.runOnContext,z()}catch(e){return G()}}():G();var Qt=J,$t=Y,qt=K;K.prototype=mt(St.prototype),K.prototype._superConstructor=St,K.prototype._init=function(){this._result={}},K.prototype._validateInput=function(t){return t&&"object"==typeof t},K.prototype._validationError=function(){return new Error("Promise.hash must be called with an object")},K.prototype._enumerate=function(){var t=this,e=t.promise,n=t._input,r=[];for(var o in n)e._state===kt&&Object.prototype.hasOwnProperty.call(n,o)&&r.push({position:o,entry:n[o]});var i=r.length;t._remaining=i;for(var a,u=0;e._state===kt&&u<i;u++)a=r[u],t._eachEntry(a.entry,a.position)},Q.prototype=mt(qt.prototype),Q.prototype._superConstructor=St,Q.prototype._makeResult=A,Q.prototype._validationError=function(){return new Error("hashSettled must be called with an object")};var Vt=$,Xt=q,Zt=V,te=new X,ee=new X,ne=ot;if("object"==typeof self)self;else{if("object"!=typeof r)throw new Error("no global: `self` or `global` found");r}var re=st,oe=ct,ie=ft,ae=lt;_t.async=Ut,_t.after=function(t){setTimeout(t,0)};if("undefined"!=typeof window&&"object"==typeof window.__PROMISE_INSTRUMENTATION__){var ue=window.__PROMISE_INSTRUMENTATION__;c("instrument",!0);for(var se in ue)ue.hasOwnProperty(se)&&dt(se,ue[se])}return{race:re,Promise:It,allSettled:Wt,hash:Xt,hashSettled:Vt,denodeify:ne,on:dt,off:ht,map:Zt,filter:$t,resolve:ie,reject:oe,all:Bt,rethrow:ae,defer:Qt,EventTarget:wt,configure:c,async:pt}}(),e.promiseManager=u}).call(e,n(9),function(){return this}())},function(t,e){function n(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function o(t){if(f===setTimeout)return setTimeout(t,0);if((f===n||!f)&&setTimeout)return f=setTimeout,setTimeout(t,0);try{return f(t,0)}catch(e){try{return f.call(null,t,0)}catch(e){return f.call(this,t,0)}}}function i(t){if(l===clearTimeout)return clearTimeout(t);if((l===r||!l)&&clearTimeout)return l=clearTimeout,clearTimeout(t);try{return l(t)}catch(e){try{return l.call(null,t)}catch(e){return l.call(this,t)}}}function a(){v&&d&&(v=!1,d.length?h=d.concat(h):g=-1,h.length&&u())}function u(){if(!v){var t=o(a);v=!0;for(var e=h.length;e;){for(d=h,h=[];++g<e;)d&&d[g].run();g=-1,e=h.length}d=null,v=!1,i(t)}}function s(t,e){this.fun=t,this.array=e}function c(){}var f,l,p=t.exports={};!function(){try{f="function"==typeof setTimeout?setTimeout:n}catch(t){f=n}try{l="function"==typeof clearTimeout?clearTimeout:r}catch(t){l=r}}();var d,h=[],v=!1,g=-1;p.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];h.push(new s(t,e)),1!==h.length||v||o(u)},s.prototype.run=function(){this.fun.apply(null,this.array)},p.title="browser",p.browser=!0,p.env={},p.argv=[],p.version="",p.versions={},p.on=c,p.addListener=c,p.once=c,p.off=c,p.removeListener=c,p.removeAllListeners=c,p.emit=c,p.prependListener=c,p.prependOnceListener=c,p.listeners=function(t){return[]},p.binding=function(t){throw new Error("process.binding is not supported")},p.cwd=function(){return"/"},p.chdir=function(t){throw new Error("process.chdir is not supported")},p.umask=function(){return 0}},function(t,e){"use strict";var n=function(){function t(t){this.promiseManager=t,this._plugins=[]}return t.prototype.register=function(t){this._plugins.push(t)},t.prototype.run=function(t){for(var e,n=this._plugins,r=[],o=0;o<n.length;o++)(e=n[o].run(t))&&r.push(e);return this.promiseManager.all(r)},t}();e.PluginsManager=n},function(t,e,n){"use strict";e.__esModule=!0;var r=n(12);e.EventsListener=r.EventsListener;var o=n(13);e.EventsTrigger=o.EventsTrigger},function(t,e){"use strict";function n(t){return t.__wmEventWrapped||(t.__wmEventWrapped=r(t)),t.__wmEventWrapped}function r(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=t.apply(this,e),o=(e[0],e[1]);return o&&o.__asyncResults&&o.__asyncResults.push(r),r}}function o(t){return t&&t.__wmEventWrapped||t}e.__esModule=!0;var i=function(){function t(t){this._eventsBase=t}return t.prototype.on=function(t,e){var r=n(e);this._eventsBase.on(t,r)},t.prototype.once=function(t,e){var r=n(e);this._eventsBase.one(t,r)},t.prototype.off=function(t,e){var n=o(e);this._eventsBase.off(t,n)},t}();e.EventsListener=i},function(t,e){"use strict";e.__esModule=!0;var n=function(){function t(t,e){this._eventsBase=t,this._promiseManager=e}return t.prototype.async=function(t,e,n,r){var o;try{o=this._eventsBase.triggerHandler(t,e)}catch(i){r&&r()}this._promiseManager.Promise.resolve(o).then(n,r)},t.prototype.sync=function(t,e,n){var r=e&&e.asyncCallback;r&&(e.__asyncResults=[]);var o=this._eventsBase.triggerHandler(t,e);return r&&(o=this._promiseManager.all(e.__asyncResults).then(function(t){return t[t.length-1]})),o==undefined?n:o},t}();e.EventsTrigger=n},function(t,e){"use strict";var n=function(){function t(t,e,n){this.PluginsManager=e,this._configs=new this.PluginsManager(n),this._plugins=new this.PluginsManager(n),this.ctx=t.ctx,this.di=t.di}return t.prototype.config=function(t){this._configs.register(t)},t.prototype.plugin=function(t){this._plugins.register(t)},t.prototype.start=function(t){var e=this,n=this._configs,r=this._plugins;return n.run(t).then(function(){return r.run(t)}).then(function(){return e.callWalkmePreLibLoaded()})["catch"](function(t){e.logError(t)})},t.prototype.callWalkmePreLibLoaded=function(){window.walkme_pre_lib_loaded&&window.walkme_pre_lib_loaded()},t.prototype.logError=function(t){throw this.ctx.has("PrelibLogger")&&this.ctx.get("PrelibLogger").write("Prelib encountered an error while loading: "+t+"\nDetails:\n"+t.stack),t},t}();e.LegoDI=n},function(t,e){function n(t,e,n){function r(){for(var t=["[prelib-loader]"],e=0;e<arguments.length;e++)t.push(arguments[e]);s.write.apply(s,t)}function o(){return undefined}var i=e(),a=i.ctx,u=a.get("PromiseManager").Promise,s=a.get("PrelibLogger");r("loading plugins",t);for(var c=[],f=0;f<t.plugins.length;f++){var l=function(t){return r("loading",t.name,"from",t.url),n.load(t.name,t.url).then(function(n){r("loaded",t.name),n(e)})["catch"](function(e){r("cannot load",t.name),s.write(e),n.errors.push(e)})}(t.plugins[f]);c.push(l)}return u.all(c).then(o)}t.exports=n}]);
})();

"undefined"!=typeof _walkmeInternals&&_walkmeInternals.wmloader&&_walkmeInternals.wmloader.define("wm-plugin-user-behavior@5.0.71@prelib",{name:"wm-plugin-user-behavior",version:"5.0.71",toolbelt:"1.2.12",packageDate:"2022-06-21T01:46:15.914Z",entry:"prelib"},function(e){return function(e){var t={};function r(n){if(t[n])return t[n].exports;var i=t[n]={exports:{},id:n,loaded:!1};return e[n].call(i.exports,i,i.exports,r),i.loaded=!0,i.exports}return r.m=e,r.c=t,r.p="",r(0)}([function(e,t,r){e.exports=r(1)},function(e,t,r){var n=r(2).createPluginEntry;e.exports=n(function(e){var t=r(3).WmPluginAbra;e(new t)})},function(e,t){var r,n={createPluginEntry:i,getCtx:s};function i(e){return function(t){r=t(),e(o)}}function s(){return r.ctx}function o(e){r.plugin(e)}t.__esModule=!0,t["default"]=n,t.createPluginEntry=n.createPluginEntry,t.getCtx=n.getCtx},function(e,t,r){var n=r(2).getCtx;function i(){this.run=e;function e(){return r(4).start(n())}}t.WmPluginAbra=i},function(e,t,r){var n=function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}n.prototype=t.prototype,e.prototype=new n},i=function(){function e(){}return e.registerClass=function(t,r,n){e.classRegistrations.push({name:t,ctor:r,dependencies:n})},e.getCtx=function(){if(e.ctx)return e.ctx;throw new Error("ctx is not set")},e.load=function(t){e.ctx=t,e.loadMockDependencies(t),e.loadModules(t);for(var r=0,n=e.classRegistrations;r<n.length;r++){var i=n[r],s=t.register(i.name).asCtor(i.ctor);i.dependencies&&s.dependencies(i.dependencies)}e.classRegistrations=[]},e.loadMockDependencies=function(e){e.register("Abra:Walkme").asInstance(window._walkMe)},e.loadModules=function(e){e.register("Abra:EventObfuscator").asCtor(r(5).Encoder).dependencies("Abra:JSON"),e.register("Abra:QueryGenerator").asFunction(function(e){var t=r(7)({}),n=r(10)(e,t);return{generate:function(t){return n.generate(e(t))}}}).dependencies("wmjQuery"),e.register("Abra:XpathEscaper").asInstance(r(12).XpathEscaper)},e.classRegistrations=[],e}(),s=function(){function e(e,t,r,n,i,s){this.jQuery=e,this.xPathGenerator=t,this.elementDescriptionGenerator=r,this.meaningfulElementGetter=n,this.commonEventAttributesProvider=i,this.privacyUtils=s}return e.prototype.getLocation=function(e){var t=this.commonEventAttributesProvider.get();return t&&t.ctx&&t.ctx.location},e.prototype.getElementAttributes=function(e){var t=this.privacyUtils.shouldCensorText(null,e);return this.xPathGenerator.getAttributes(this.jQuery(e),t)},e.prototype.getElementId=function(e){return this.xPathGenerator.getId(this.jQuery(e))},e.prototype.getElementClasses=function(e){return this.xPathGenerator.getClasses(this.jQuery(e))},e.prototype.getElementText=function(e){if(!this.privacyUtils.shouldCensorText(null,e)){var t=this.meaningfulElementGetter.get(e);return this.elementDescriptionGenerator.getText(t?t.element:e).text}},e.prototype.load=function(){a.AbraObject=this.jQuery.extend(a.AbraObject,{getLocation:this.getLocation.bind(this),getElementAttributes:this.getElementAttributes.bind(this),getElementId:this.getElementId.bind(this),getElementClasses:this.getElementClasses.bind(this),getElementText:this.getElementText.bind(this)})},e}();i.registerClass("Abra:CaptureElementApiLoader",s,"wmjQuery, Abra:XPathGenerator, Abra:ElementDescriptionGenerator, Abra:MeaningfulElementGetter, CommonEventAttributesProvider, Abra:PrivacyUtils");var o=function(){function e(e,t,r,n){var i=this;this.logger=e,this.eventsTrigger=t,this.timingUtils=r,this.lastNotification=null,this.cachedResult=null,this.collectByDefault=!this.isManualMode(n),a.AbraObject.isCollecting=function(){return i.shouldCollect()},this.cleanCachedResultOnNextEventLoop=this.timingUtils.createOnNextEventLoopFunc(function(){i&&(i.cachedResult=null)})}return e.prototype.shouldCollect=function(){if(null!==this.cachedResult)return this.cachedResult;try{this.cachedResult=this.querySite(),null!==this.cachedResult&&this.cleanCachedResultOnNextEventLoop()}catch(e){this.cachedResult=null,this.logger.error("Error on ShouldCollectUserData",e)}var t=null!==this.cachedResult?this.cachedResult:this.collectByDefault;return this.notifyChange(t),t},e.prototype.querySite=function(){var e=window.isWalkmeUserBehaviorDataCollectionEnabled;if(e&&e.constructor&&e.call&&e.apply){var t=e();if(t===!0||t===!1)return t;throw new Error("return value expected to be boolean")}return null},e.prototype.isManualMode=function(e){var t=e.get();return!(!t||!t.loading||"manual"!==t.loading.mode)},e.prototype.notifyChange=function(e){this.lastNotification!==e&&(this.lastNotification=e,this.eventsTrigger.async("UBT:CollectionStatusChanged",{isCollecting:e}))},e}();i.registerClass("Abra:CollectionIndicator",o,"Abra:Logger, EventsTrigger, Abra:TimingUtils, Abra:DataCollectionSettingsWrapper");var a;!function(e){e.App={name:"abra",version:"5.0.71",rev:"1609044"},e.WalkmeInternals=window._walkmeInternals,e.AbraObject={version:e.App.version,rev:e.App.rev};function t(t){e.WalkmeInternals.abraState=t}e.setState=t;function r(r){t("errored"),e.AbraObject.errorInfo=r}e.setErrorInfo=r;function n(e){try{var t=e.get("EventsListener"),n=function(){!e.has("Abra:InsightsConfigurationGetter")&&e.has("wmjQuery")&&e.has("SettingsFile")&&e.has("PromiseManager")&&e.has("TimerManager")&&e.has("CommonUtils")&&(e.register("Abra:InsightsConfigurationGetter").asCtor(u).dependencies("wmjQuery, SettingsFile, PromiseManager, TimerManager, CommonUtils"),e.get("Abra:InsightsConfigurationGetter").get())};t.once("DICreated",n);var i=R.allowOnce(function(){n(),o(e)});t.once("wm.pagescript.envIdInjected",i),t.once("BeforeWalkmeReady",i),T.enable(e),s(e)}catch(a){r({error:a})}return null}e.start=n;function s(e){var t={initializationData:void 0};e.get("EventsListener").once("PageVisitIdUpdated",function(e,r){t.initializationData=r}),e.register("Abra:PageLoadSync").asInstance(t)}function o(n){n.register("Abra:UbtPerformance").asCtor($).dependencies("PerformanceBILogger"),e.AbraObject.dbg=new h(n).getApi();var s=q.registerLogger(n),o="verify requirements";try{if((e.WalkmeInternals.abra||e.WalkmeInternals.ubt)&&"removed"!==e.WalkmeInternals.abraState)return s.error("Abra was already loaded");e.WalkmeInternals.abra=e.AbraObject,e.WalkmeInternals.ubt=e.AbraObject;var a=n.get("HostData");if(a.isIE()&&!a.isIE(9,"gte"))return r({error:new Error("Browser is not supported")});if(!n.get("AuditingEnabledIndicator").isEnabledForInsights())return r({error:new Error("Disabled due to noAudit feature enabled")});var u=s.perf("load");t("preload"),o="load abra to ctx",i.load(n),n.get("EventsTrigger").sync("Abra:CtxLoaded"),o="load abra";var l=!!n.get("IsInEditor").get(),c=n.get("Abra:InsightsConfigurationGetter");c.get()["catch"](function(e){s.error("error loading ubt, using fallback",e),c.overrideConfiguration()}).then(function(){return n.get("Abra:Loader").load(l).then(function(e){e&&u.stop()})})["catch"](function(e){s.error("error loading ubt",e),r({error:e})})}catch(p){s.error("could not "+o,p),r({error:p})}}}(a||(a={})),e.exports=a;var u=function(){function e(e,t,r,n,i){this.wmjQuery=e,this.settingsFile=t,this.promiseManager=r,this.timerManager=n,this.commonUtils=i,this.promiseResolved=!1}return e.prototype.get=function(){return this.promise=this.promise||this.fetch(),this.promise},e.prototype.getSync=function(){if(!this.promiseResolved)throw new Error('InsightsConfigurationGetter.getSync should be called within "get" function scope');return this.configuration},e.prototype.overrideConfiguration=function(e){this.promise=this.promiseManager.resolve(e),this.configuration=e,this.promiseResolved=!0},e.prototype.getFileExtension=function(e){return e.substring(e.lastIndexOf(".")+1)},e.prototype.fetch=function(){var e=this,t=new this.promiseManager.Promise(function(t,r){var n=localStorage["ubt-te-whitelist-url"]||e.settingsFile.getSettingsFile().InsightsConfigurationFile;if(n){var i=e.getFileExtension(n);"js"===i?e.commonUtils.addScriptWithCallback(n,"InsightsConfigurationCallback",t,r,!0):e.ajax(n,t,r,1)}else t()});return t.then(function(t){e.promiseResolved=!0,e.configuration=t}),t},e.prototype.ajax=function(e,t,r,n){var i=this;void 0===n&&(n=0),this.wmjQuery.ajax({url:e,dataType:"json",success:function(e){t(e)},error:function(s,o,a){if(n>0)i.timerManager.libSetTimeout(function(){i.ajax(e,t,r,n-1)},500);else{var u={message:"error getting configuration",extraData:{file:e,errorThrown:a,textStatus:o,status:s.status}};r(u)}}})},e}(),l=function(){function e(e,t,r,n,i,s,o,a,u,l,c,h,p,g,d,f,v,m){this.logger=e,this.storageSynchronizer=t,this.eventsSenderWrapper=r,this.eventsTrigger=n,this.jQuery=i,this.userEventCreator=s,this.idleEventCreator=o,this.windowIdGetter=a,this.errorUtils=u,this.frameBinder=l,this.pageInfoCreator=c,this.timingUtils=h,this.eventsListener=p,this.userEventListener=g,this.keypressEventCreator=d,this.captureElementApiLoader=f,this.insightsConfigurationGetter=v,this.featuresManager=m,this.isUnloaded=!1}return e.prototype.load=function(e){var t=this;void 0===e&&(e=!1);var r;return a.setState("loading"),this.storageSynchronizer.getStorageKey()["catch"](this.errorUtils.wrapCatch("get storage key")).then(function(){return t.windowIdGetter.load()})["catch"](this.errorUtils.wrapCatch("get winId")).then(function(){e||(t.errorUtils.wrapCall(function(){return t.eventsSenderWrapper.init(r)},"load sender"),t.errorUtils.wrapCall(function(){return t.frameBinder.load()},"bind frames"),t.errorUtils.wrapCall(function(){return t.userEventCreator.load()},"load event creator"),t.featuresManager.isFeatureEnabled("UbtEnableKeypressEvent")&&t.errorUtils.wrapCall(function(){return t.keypressEventCreator.load()},"load keypress event creator"),t.errorUtils.wrapCall(function(){return t.idleEventCreator.load()},"load idle event creator"),t.errorUtils.wrapCall(function(){return t.pageInfoCreator.load()},"load page info creator")),t.errorUtils.wrapCall(function(){return t.captureElementApiLoader.load()},"load capture element api"),a.WalkmeInternals.removeAbra=function(e){t.unload({message:e||"no error provided"},{failPoint:"API call"})},t.eventsListener.once("removeWalkMe",function(){t.unload({message:"removeWalkMe"},void 0,!0)});var n=t.insightsConfigurationGetter.getSync();return n&&n.trackedEventsWhitelist||t.disableHeartbeat(),a.setState(e?"silent":"loaded"),t.eventsTrigger.sync("Abra:Ready"),!0})["catch"](function(e){return t.unload(e),!1})},e.prototype.disableHeartbeat=function(){i.getCtx().has("HeartbeatEventSender")&&i.getCtx().get("HeartbeatEventSender").disable()},e.prototype.unload=function(e,t,r){if(void 0===r&&(r=!1),this.isUnloaded===!0)return;a.setState("removing"),a.WalkmeInternals.removeAbra=void 0,this.isUnloaded=!0,t=t?this.jQuery.extend(e.extraData||{},t):e.extraData||{},a.setErrorInfo({error:e,extraData:t});try{this.userEventListener.disable(),this.eventsSenderWrapper.disable(),this.timingUtils.disable(),this.frameBinder.unload(),this.windowIdGetter.unload(),this.userEventCreator.unload(),this.idleEventCreator.unload(),this.pageInfoCreator.unload(),this.keypressEventCreator.unload(),a.setState("removed")}catch(n){this.logger.warn("error unloading abra",n)}t.failPoint=t.failPoint||"unknown reason",r||this.logger.error("abra unload: "+t.failPoint,e,t)},e}();i.registerClass("Abra:Loader",l,"Abra:Logger, Abra:StorageSynchronizer, Abra:EventsSenderWrapper, EventsTrigger, wmjQuery, Abra:UserEventCreator, Abra:IdleEventCreator, Abra:WindowIdGetter, Abra:ErrorUtils, Abra:FrameBinder, Abra:PageInfoCreator, Abra:TimingUtils, EventsListener, Abra:UserEventListener, Abra:KeypressEventCreator, Abra:CaptureElementApiLoader, Abra:InsightsConfigurationGetter, FeaturesManager");var c=function(){function e(e){this.ctx=e}return e.prototype.get=function(){return{disableEventListeners:this.disableEventListeners.bind(this),disableEventSender:this.disableEventSender.bind(this),disableXpathBuilder:this.disableXpathBuilder.bind(this),disableAutoQuery:this.disableAutoQuery.bind(this),disableMeaningfulElement:this.disableMeaningfulElement.bind(this),disableLabel:this.disableLabel.bind(this),disableText:this.disableText.bind(this),disableIdleActive:this.disableIdleActive.bind(this),enablePerformanceLogs:this.enablePerformanceLogs.bind(this)}},e.prototype.decorateOnLoad=function(e,t){var r=this;this.ctx.get("EventsListener").once("Abra:CtxLoaded",function(){r.ctx.decorate(e,t)})},e.prototype.disableEventListeners=function(){this.decorateOnLoad("Abra:UserEventListener",function(e){return e.register=function(){return-1},e})},e.prototype.disableEventSender=function(){this.decorateOnLoad("Abra:EventsSenderWrapper",function(e){return e.init=function(){return},e.send=function(){return},e})},e.prototype.disableXpathBuilder=function(){this.decorateOnLoad("Abra:XPathGenerator",function(e){return e.generate=function(){return{xpath:"mock[0]",xpathParts:null}},e})},e.prototype.disableAutoQuery=function(){this.decorateOnLoad("Abra:QueryGenerator",function(e){return e.generate=function(){return"mock"},e})},e.prototype.disableMeaningfulElement=function(){this.decorateOnLoad("Abra:MeaningfulElementGetter",function(e){return e.get=function(){return},e})},e.prototype.disableLabel=function(){this.decorateOnLoad("Abra:LabelGetter",function(e){return e.get=function(){return"mock"},e})},e.prototype.disableText=function(){this.decorateOnLoad("Abra:ElementDescriptionGenerator",function(e){return e.getText=function(){return{text:"mock"}},e})},e.prototype.disableIdleActive=function(){this.decorateOnLoad("Abra:IdleEventCreator",function(e){return e.load=function(){return},e})},e.prototype.enablePerformanceLogs=function(){var t=this;this.ctx.decorate("Abra:UbtPerformance",function(r){var n;return r.perf=function(r){return n=n||t.ctx.get("Abra:Logger"),e.createPerf(r,n)},r})},e.createPerf=function(e,t){var r=window.performance,n=r.now(),i=n;return{stop:function(){return t.info("performance: "+e+" took "+(r.now()-n).toFixed(2)+" ms")},step:function(s){var o=r.now();t.info("performance: "+e+"-"+s+" time from start "+(o-n).toFixed(2)+" ms (time from last step "+(o-i).toFixed(2)+" ms)"),i=o}}},e}(),h=function(){function e(e){this.enableIndicatorFlag="wm-ubt-dbg",this.storage=window.localStorage,this.storage&&this.checkFlag(this.enableIndicatorFlag)&&(this.options=new c(e).get(),this.activateFlags(),this.api=this.createApi())}return e.prototype.getApi=function(){return this.api},e.prototype.activateFlags=function(){for(var e in this.options)this.options.hasOwnProperty(e)&&this.checkFlag(this.getFlagName(e))&&this.options[e]()},e.prototype.getFlagName=function(e){return this.enableIndicatorFlag+"-"+e},e.prototype.checkFlag=function(e){return"true"===this.storage[e]},e.prototype.toggleFlag=function(e){return this.storage[e]=!this.checkFlag(e),this.checkFlag(e)},e.prototype.clearFlag=function(e){this.storage.removeItem(e)},e.prototype.createApi=function(){var e=this,t={},r=function(r){n.options.hasOwnProperty(r)&&(t[r]=function(){return e.toggleFlag(e.getFlagName(r))})},n=this;for(var i in this.options)r(i);return t.clear=function(){for(var t in e.options)e.options.hasOwnProperty(t)&&e.clearFlag(e.getFlagName(t));e.clearFlag(e.enableIndicatorFlag)},t},e}(),p=function(){function e(e,t,r,n){this.logger=e,this.jQuery=t,this.errorUtils=r,this.featuresManager=n,this.get=r.bindCall(this,this.get,"error getting element parents"),this.useJQueryParent=n.isFeatureEnabled("Abra-Use-JQuery-Parent")}return e.prototype.get=function(e){var t=e.path||e.composedPath&&e.composedPath()||[],r=g.isElement(t[0])?t[0]:e.target;if(!g.isElement(r))throw new Error("unexpected event target type: "+typeof r);return this.getFromElement(r)},e.prototype.getFromElement=function(t){var r,n=[],i=e.MaxClimbCount,s=t;do if(g.isElement(s)&&n.unshift(s),r=s,s=this.getParent(s),--i<=0)throw new Error("ElementParentsGetter loop reached its limit");while(s&&r!==s);return n},e.prototype.getParent=function(e){if(g.isDocument(e))return this.tryGetFrameElement(e);return this.useJQueryParent?this.jQuery(e).parent()[0]:this.getParentElementDefault(e)},e.prototype.getParentElementDefault=function(e){if(e.assignedSlot)return e.assignedSlot;if(e.parentNode)return e.parentNode;if(e.host)return e.host},e.prototype.tryGetFrameElement=function(e){try{var t=e.defaultView||e.parentWindow;if(t&&this.shouldClimbMore(t))return t.frameElement}catch(r){this.logger.error("error getting frame element",r)}},e.prototype.shouldClimbMore=function(e){try{return!e._makeTutorial}catch(t){return!1}},e.MaxClimbCount=1e3,e}();i.registerClass("Abra:ElementParentsGetter",p,"Abra:Logger, wmjQuery, Abra:ErrorUtils, FeaturesManager");var g=function(){function e(){}return e.isElementTextNode=function(e){return e.nodeType===ce.Text||e.nodeType===ce.CDATASection},e.isVisualDomElement=function(e){var t=e.nodeType===ce.Element&&!e.tagName.match(/^(script|style)$/i);return t},e.isElement=function(e){return e&&e.nodeType===ce.Element},e.isDocument=function(e){return e&&(e.nodeType===ce.Document||e.nodeType===ce.DocumentType)},e.getLowerCaseTagName=function(e){return(e.nodeName||e.localName).toLowerCase()},e}(),d=function(){function e(e,t){this.hostData=e,this.jQuery=t}return e.prototype.get=function(e){var t=this.getLabelElement(e);return t&&t.textContent&&ae.trim(t.textContent)},e.prototype.getLabelElement=function(e){var t=e.labels&&e.labels[0];if(t)return t;return this.getLabelElementIePolyfill(e)},e.prototype.getLabelElementIePolyfill=function(t){if((this.hostData.isIE()||this.hostData.isEdge())&&this.jQuery.inArray(g.getLowerCaseTagName(t),e.polyfillElementTypes)!==-1){var r=this.jQuery(t),n=r.attr("id");if(n&&"string"==typeof n){var i=this.jQuery('label[for="'+ae.escapeJQuerySelectorAttributeValue(n)+'"]',t.ownerDocument);if(0!==i.length)return i[0]}return r.closest("label")[0]}},e.polyfillElementTypes=["input","textarea","button","select","output"],e}();i.registerClass("Abra:LabelGetter",d,"HostData, wmjQuery");var f=function(){function e(e,t,r,n,i,s,o,a,u){this.jQuery=e,this.privacyUtils=t,this.textUtils=r,this.logger=n,this.xpathGenerator=i,this.queryGenerator=s,this.labelGetter=o,this.featuresManager=a,this.overlappedText=u,this.textOptions={maxLength:200}}return e.prototype.generate=function(e,t){var r=this.logger.perf("capture"),n={},i={desc:n},s=e.getParents();r.step("getParents");var o=this.privacyUtils.shouldCensorText(s);r.step("shouldCensorText");try{var a=this.generateXpath(e,o);n.xpath=a.xpath,i.xpathParts=a.xpathParts,r.step("generateXpath")}catch(u){this.logger.error("cannot generate xpath",u)}var l=e.getElement(),c=t||l;try{n.autoQuery=this.queryGenerator.generate(c),r.step("generateAutoQuery")}catch(u){this.logger.error("cannot generate autoQuery",u)}if(!o&&(n.label=this.labelGetter.get(c),r.step("getLabel"),!this.privacyUtils.isPrivacyUnsafeElementType(c))){var h=this.getText(c,!0);r.step("getText"),n.text=h.text,h.isOverlapped&&(i.misc={textSource:"overlapped"});var p=this.jQuery(c).val();n.value=p?ae.trim(p.toString(),this.textOptions.maxLength):void 0}return r.stop(),i},e.prototype.generateXpath=function(e,t){var r=e.getParents();return t=void 0!==t?t:this.privacyUtils.shouldCensorText(r),this.xpathGenerator.generate(r,t)},e.prototype.getSelectTagText=function(e){var t=this.jQuery(e),r=t.val();if("string"==typeof r&&r.indexOf("\n")===-1)return t.find('option[value="'+ae.escapeJQuerySelectorAttributeValue(r)+'"]').text()},e.prototype.getElementText=function(e,t){if(void 0===t&&(t=!1),!t&&(this.privacyUtils.isPrivacyUnsafeElementType(e)||this.privacyUtils.shouldCensorText(null,e)))return;if("select"===g.getLowerCaseTagName(e))return this.getSelectTagText(e);return ae.trim(this.textUtils.collectText(e,this.textOptions),this.textOptions.maxLength)},e.prototype.getText=function(e,t){void 0===t&&(t=!1);var r={};if(r.text=this.getElementText(e,t),!r.text&&this.featuresManager.isFeatureEnabled("UbtAddOverlappedText"))try{var n=this.overlappedText.getOverlappedTextElement(e);n&&(r.text=this.getElementText(n,!1),r.isOverlapped=!0)}catch(i){this.logger.error("cannot get overlapped text",i)}return r},e}();i.registerClass("Abra:ElementDescriptionGenerator",f,"wmjQuery, Abra:PrivacyUtils, Abra:TextUtils, Abra:Logger, Abra:XPathGenerator, Abra:QueryGenerator, Abra:LabelGetter, FeaturesManager, Abra:OverlappedText");var v=function(){function e(){}return e.getElementFirstAncestors=function(t){for(var r=[],n=t.parentElement,i=0;n&&i<e.maxDistToParent;)r.push(n),i++,n=n.parentElement;return r},e.isMaxDistanceToCommonAncestorExceeded=function(t,r){var n=t.length-1,i=r.length-1;if(t[n]!==r[i])return!0;for(;n>=0&&i>=0&&t[n]===r[i];)n--,i--;var s=n+2,o=i+2;return s>e.maxDistToParent||o>e.maxDistToParent},e.getElementCenter=function(e){var t=e.getBoundingClientRect(),r=t.left,n=t.right,i=t.top,s=t.bottom;return{x:(n+r)/2,y:(s+i)/2}},e.isPositiveZIndex=function(t){for(var r=t,n=0;r&&n<e.maxDistToParent;){if(parseInt(getComputedStyle(r).zIndex)>0)return!0;n++,r=r.parentElement}return!1},e.getElementsAtPoint=function(e,t,r){if(e.elementsFromPoint)return e.elementsFromPoint(t,r);var n=e.msElementsFromPoint(t,r),i=[];if(null!==n)for(var s=0;s<n.length;s++)i.push(n[s]);return i},e.getElementDescendantsNum=function(t,r){if(void 0===r&&(r=0),r>e.maxDescendants)return 1/0;var n=t.children;if(0===n.length)return 0;var i=n.length;if(r+i>e.maxDescendants)return 1/0;for(var s=0;s<n.length;s++){var o=e.getElementDescendantsNum(n[s],r+i);if(i+=o,r+i>e.maxDescendants)return 1/0}return i},e.isElementHasTooMuchDescendants=function(t){return e.getElementDescendantsNum(t)>e.maxDescendants},e.isElementHasInnerText=function(e){var t=e.innerText;return t&&(t=t.trim()),!!t},e.prototype.getOverlappedTextElement=function(t){if(!e.isPositiveZIndex(t))return;for(var r,n=e.getElementCenter(t),i=n.x,s=n.y,o=e.getElementsAtPoint(t.ownerDocument,i,s),a=e.getElementFirstAncestors(t),u=0;u<o.length&&!r;u++){var l=o[u];if(a.indexOf(l)>-1||l===t)continue;if(!e.isElementHasInnerText(l))continue;var c=e.getElementFirstAncestors(l);if(e.isMaxDistanceToCommonAncestorExceeded(a,c))continue;if(e.isElementHasTooMuchDescendants(l))continue;r=l}return r},e.maxDistToParent=3,e.maxDescendants=6,e}();i.registerClass("Abra:OverlappedText",v);var m=function(){function e(e){this.jQuery=e}return e.prototype.get=function(t){var r=this.jQuery(t),n=void 0,i=!0,s=-1;do{if(r[0].shadowRoot)break;if(s++,"button"===g.getLowerCaseTagName(r[0])){n={type:"button",element:r[0],climb:s};break}if(i===!0){var o=this.getElementCursor(r);this.isPointer(r,o)?n={type:"pointer",element:r[0],climb:s}:i=this.isCursorCouldBePointer(r[0],o)}void 0===n&&this.isStoppableAttribute(r[0])&&(n={type:"attribute",element:r[0],climb:s}),r=r.parent()}while(s<e.MaxClimbCount&&r.prop("nodeType")===ce.Element);if(void 0!==n&&n.climb>0&&void 0!==n.element&&n.element!==t)return n},e.prototype.isStoppableAttribute=function(e){if(!e||!e.attributes)return!1;var t=e.attributes.tabIndex;if(t&&t.value&&e.tabIndex>=0)return!0;return t=e.attributes.accesskey,!(!t||!t.value)},e.prototype.getElementCursor=function(e){try{return this.jQuery(e).css("cursor")}catch(t){return"auto"}},e.prototype.isPointer=function(e,t){if("pointer"===t)return!0;if("auto"!==t)return!1;switch(g.getLowerCaseTagName(e[0])){case"a":return void 0!==e.attr("href");default:return!1}},e.prototype.isCursorCouldBePointer=function(t,r){if("pointer"===r)return!0;if("auto"!==r)return!1;return this.jQuery.inArray(g.getLowerCaseTagName(t),e.cursorOverrideNotPointer)===-1},e.cursorOverrideNotPointer=["select","input","button","textarea","video","audio","label"],e.MaxClimbCount=1e3,e}();i.registerClass("Abra:MeaningfulElementGetter",m,"wmjQuery");var b=function(){function e(e,t,r,n,i){this.jQuery=e,this.dataCollectionSettings=t,this.xpathEscaper=r,this.urlCensorshipController=n,this.xpathReducer=i,this.textProperties=V.convertArrayToObject(["name","title"]),this.attributesToCollect=this.getAttributesToCollect(t.get()),this.settings=t.get().element.xpath}return e.prototype.getAttributesToCollect=function(e){var t=e.element&&e.element.attributesToCollect;if(t&&0!==t.length){var r=t.slice();return this.urlCensorshipController.shouldCensorUrl()&&(r=this.filterAttributesByCensorship(r)),r.sort(),r}},e.prototype.filterAttributesByCensorship=function(e){var t=this,r=["src","href"];return this.jQuery.grep(e,function(e){return t.jQuery.inArray(e,r)===-1})},e.prototype.generate=function(e,t){void 0===t&&(t=!1);var r=this.generateXpathParts(e,t),n=this.convertXpathToStringArray(r),i=this.applyXpathLengthLimitation(n).join("");return{xpath:i,xpathParts:r}},e.prototype.generateXpathParts=function(e,t){var r=this;return this.jQuery(e).map(function(e,n){var i=r.jQuery(n);return{tagName:g.getLowerCaseTagName(n),tagIndex:r.getTagIndex(n),classes:r.getClasses(i),id:r.getId(i),attributes:r.getAttributes(i,t)}}).toArray()},e.prototype.getAttributes=function(t,r){var n=this,i=[];return this.attributesToCollect&&this.xpathReducer.shouldCollectAttributesOrClasses(t)&&this.jQuery.each(this.attributesToCollect,function(s,o){if(r&&n.textProperties[o])return;var a=t.attr(o);if(void 0!==a){var u=n.attributesToCollect[s];a.length<=n.settings.attributeMaxLength&&e.shouldCollectAttribute(a)?i.push(V.createKeyValuePair(u,a)):i.push(V.createKeyValuePair(u))}}),i},e.prototype.getClasses=function(t){var r=this,n=[];if(this.xpathReducer.shouldCollectAttributesOrClasses(t)){var i=t.attr("class");i&&(n=this.jQuery.grep(i.split(e.classDelimiter),e.shouldCollectClassOrId),n=this.jQuery.map(n,function(e){return ae.trim(e)}),n=this.jQuery.grep(n,function(e){return e&&e.length<=r.settings.classMaxLength}),n.sort())}return n},e.prototype.getId=function(t){var r=t.attr("id");if(e.shouldCollectClassOrId(r)){var n=ae.trim(r);if(n.length<=this.settings.idMaxLength)return n}},e.prototype.convertXpathToStringArray=function(t){for(var r=this,n=[],i=0;i<t.length;i++){var s=t[i];if(n.push(s.tagName),n.push("["),n.push((s.tagIndex+1).toString()),n.push("]"),s.id&&(n.push("#"),n.push(s.id)),s.classes){var o=this.jQuery.map(s.classes,function(e){return"."+e});n.push.apply(n,o)}if(s.attributes){var a=this.jQuery.map(s.attributes,function(e){return e.value?"&"+e.key+"="+r.xpathEscaper.escape(e.value):"&"+e.key});n.push.apply(n,a)}n.push(e.delimiter)}return n.pop(),n},e.prototype.applyXpathLengthLimitation=function(e){for(var t=0,r=0;r<e.length;r++)t+=e[r].length;for(var r=0;t>this.settings.xpathMaxLength&&r<e.length;r++){var n=e[r];"."===n[0]&&(t-=n.length,e[r]="")}if(t>this.settings.xpathMaxLength){for(var i=0,s=0,r=0;r<e.length&&0===s;r++){var n=e[r];i+=n.length,"/"===n&&t-i<=this.settings.xpathMaxLength&&(s=r)}e=0!==s?e.slice(s+1):[]}return e},e.prototype.getTagIndex=function(e){for(var t=0,r=e.previousSibling;r;r=r.previousSibling)r.localName===e.localName&&t++;return t},e.shouldCollectClassOrId=function(t){return t&&!e.forbiddenCharsRegex.test(t)},e.shouldCollectAttribute=function(e){return e&&!z.isCreditCard(e)},e.forbiddenCharsRegex=/[&=\.\]\[\/\#]/,e.classDelimiter=/[\s\uFEFF\xA0]+/,e.delimiter="/",e}();i.registerClass("Abra:XPathGenerator",b,"wmjQuery, Abra:DataCollectionSettingsWrapper, Abra:XpathEscaper, Abra:UrlCensorshipController, Abra:XpathReducer");var y=function(){function e(){}return e.prototype.shouldCollectAttributesOrClasses=function(e){if(e&&g.isElement(e[0])){var t=g.getLowerCaseTagName(e[0]);return"html"!==t&&"body"!==t}return!0},e}();i.registerClass("Abra:XpathReducer",y);var C=function(){function e(e,t,r,n,s,o,a,u,l,c,h,p){this.eventBuilder=e,this.eventsSenderWrapper=t,this.eventsTrigger=r,this.logger=n,this.windowIdGetter=s,this.commonEventAttributesProvider=o,this.jQuery=a,this.obfuscator=u,this.textValueCensorship=l,this.collectionIndicator=c,this.webhooksIdsAdder=h,this.shouldEncode=!0,this.shouldEncode=!p.isFeatureEnabled("Abra-DisableEncoding"),i.getCtx().has("CleanObject")&&(this.cleanObject=i.getCtx().get("CleanObject"))}return e.prototype.initiate=function(e){var t=this;if(!this.collectionIndicator.shouldCollect())return;var r=ue.now();this.eventBuilder.build(e).then(function(n){return n.time=r,n.ctx=n.ctx||{},t.addTimingData(n),t.addIframeData(n),t.addApplicationData(n),t.addWindowData(n).then(function(){t.substringEvent(n),t.textValueCensorship.censorEvent(e),n=t.jQuery.extend(!0,n,t.commonEventAttributesProvider.get()),t.cleanObject&&(n=t.cleanObject(n)),t.webhooksIdsAdder&&t.webhooksIdsAdder.add(n),t.sendEvent(n)})})["catch"](function(e){t.logger.error("error sending event",e)})},e.prototype.substringEvent=function(e){ae.substringObject(ie.Value,e)},e.prototype.addTimingData=function(e){e.ctx.timing=ue.getTimingData()},e.prototype.addWindowData=function(e){return this.windowIdGetter.getOrCreate().then(function(t){e.ctx.winId=t})},e.prototype.addIframeData=function(e){try{B.isIframe()&&(e.ctx.topTitle=B.getTopTitle())}catch(t){}},e.prototype.addApplicationData=function(e){e.version={abra:a.App.version}},e.prototype.sendEvent=function(e){this.eventsSenderWrapper.send(this.shouldEncode?this.obfuscator.encode(e):e),this.eventsTrigger.sync("Abra:EventSent",e),this.logger.debug(e)},e}();i.registerClass("Abra:EventHandler",C,"Abra:EventBuilder, Abra:EventsSenderWrapper, EventsTrigger, Abra:Logger, Abra:WindowIdGetter, CommonEventAttributesProvider, wmjQuery, Abra:EventObfuscator, Abra:TextValueCensorship, Abra:CollectionIndicator, WebhooksIdsAdder, FeaturesManager");var E={active:"active",idle:"idle",pageChange:"pageChange"},x=function(){function e(e,t,r,n,i){this.eventHandler=e,this.userEventListener=t,this.reusableTimerFactory=r,this.errorUtils=n,this.throttle=i,this.delay=6e4,this.isIdle=!1,this.isEnabled=!1,this.throttleIntervalMS=1e3}return e.prototype.load=function(){var e=this;this.timer||(this.timer=this.reusableTimerFactory.create(function(){return e.setIdle()},this.delay),this.registerId=this.userEventListener.register(this.throttle(function(t){return e.setActive(t)},this.throttleIntervalMS),["blur","change","click","dblclick","focus","focusin","focusout","hover","keydown","keypress","keyup","mousedown","mouseenter","mouseleave","mousemove","mouseout","mouseover","mouseup","resize","scroll","select","submit"]),this.timer.set(),this.isEnabled=!0)},e.prototype.unload=function(){this.timer&&(this.userEventListener.unregister(this.registerId),this.timer.clear(),this.isEnabled=!1)},e.prototype.setDelay=function(e){this.delay=e},e.prototype.setThrottleInterval=function(e){this.throttleIntervalMS=e},e.prototype.setActive=function(e){this.isEnabled&&(this.isIdle&&(this.isIdle=!1,this.raiseEvent(E.active,e.getEventType())),this.timer.set())},e.prototype.setIdle=function(){this.isEnabled&&(this.isIdle=!0,this.raiseEvent(E.idle))},e.prototype.raiseEvent=function(e,t){var r=this;this.errorUtils.wrapCallAndLog(function(){r.eventHandler.initiate({event:{type:e,misc:{trigger:t}}})},"error at IdleEventCreator",{type:e,trigger:t})},e}();i.registerClass("Abra:IdleEventCreator",x,"Abra:EventHandler, Abra:UserEventListener, Abra:ReusableTimerFactory, Abra:ErrorUtils, Throttle");var A=function(){function e(e,t,r,n,i,s,o){var a=this;this.userEventListener=e,this.errorUtils=t,this.eventHandler=r,this.reusableTimerFactory=n,this.elementDescriptionGenerator=i,this.textValueCensorship=s,this.collectionIndicator=o,this.isEnabled=!1,this.timer=this.reusableTimerFactory.create(function(){return a.feedEvent()},1e3)}return e.prototype.load=function(){var e=this;this.isEnabled||(this.registerId=this.userEventListener.register(function(t){return e.feedEvent(t)},["keypress"]),this.registerBeforeUnload(),this.isEnabled=!0)},e.prototype.unload=function(){this.isEnabled&&(this.timer.clear(),this.userEventListener.unregister(this.registerId),this.eventData=void 0,this.isEnabled=!1)},e.prototype.feedEvent=function(e){if(!this.isEnabled)return;e&&this.collectionIndicator.shouldCollect()?this.eventData?this.eventData.desc.xpath===this.elementDescriptionGenerator.generateXpath(e).xpath?(this.timer.set(),this.eventData.count++):(this.raiseEvent(),this.createNew(e)):this.createNew(e):this.raiseEvent()},e.prototype.createNew=function(e){this.eventData={desc:this.elementDescriptionGenerator.generate(e).desc,
censorshipData:this.textValueCensorship.createCensorshipData(e),count:1,t1:ue.now()},this.timer.set()},e.prototype.raiseEvent=function(){this.timer.clear(),this.eventData&&(this.eventHandler.initiate({event:{type:"keypress",element:this.eventData.desc,misc:{count:this.eventData.count,t1:this.eventData.t1}},data:{censorshipData:this.eventData.censorshipData}}),this.eventData=void 0)},e.prototype.registerBeforeUnload=function(){var e=this,t=window.onbeforeunload;window.onbeforeunload=function(r){if(e.isEnabled&&e.errorUtils.wrapCallAndLog(function(){return e.feedEvent()},"error on onbeforeunload keypress"),t)return t.call(window,r)}},e}();i.registerClass("Abra:KeypressEventCreator",A,"Abra:UserEventListener, Abra:ErrorUtils, Abra:EventHandler, Abra:ReusableTimerFactory, Abra:ElementDescriptionGenerator, Abra:TextValueCensorship, Abra:CollectionIndicator");var w=function(){function e(e,t,r,n,s){var o=this;this.logger=e,this.pageVisitIdProvider=t,this.eventHandler=r,this.pageLoadSync=n,this.eventsListener=s,this.disabledByWalkmePlayer=i.getCtx().has("PageChangeEventSender"),this.eventCallback=function(){return o.distribute()}}return e.prototype.distribute=function(){this.eventHandler.initiate({event:{type:E.pageChange}})},e.prototype.load=function(){if(this.disabledByWalkmePlayer)return;this.pageLoadSync.initializationData&&(this.pageVisitIdProvider.get()!==this.pageLoadSync.initializationData.id&&this.logger.error("Data inconsistency in pageVisitId"),this.distribute()),this.eventsListener.on("PageVisitIdUpdated",this.eventCallback)},e.prototype.unload=function(){if(this.disabledByWalkmePlayer)return;this.eventsListener.off("PageVisitIdUpdated",this.eventCallback)},e}();i.registerClass("Abra:PageInfoCreator",w,"Abra:Logger, PageVisitIdProvider, Abra:EventHandler, Abra:PageLoadSync, EventsListener");var T=function(){function e(){}return e.enable=function(e){e.get("EventsListener").once("EventSenderContextDataProviderReferrerEnablement",function(){return!0})},e}(),I=function(){function e(e,t){this.jQuery=e,this.compatibilityUtils=t,this.initBindingFunctions()}return e.prototype.initBindingFunctions=function(){var e;i.getCtx().has("NativeEventListenerFunctionsProvider")&&(e=i.getCtx().get("NativeEventListenerFunctionsProvider").get()),e=e||{},this.addEventListener=e.addEventListener||document.addEventListener,this.removeEventListener=e.removeEventListener||document.removeEventListener},e.prototype.bindEvents=function(e,t,r){var n=this,i=function(t){return n.jQuery(e).on(t+".abra",r)},s=i;this.compatibilityUtils.isCaptureBindCompatible()&&(s=function(t){try{n.addEventListener.apply(e,[t,r,!0])}catch(s){i(t)}}),this.jQuery.each(t,function(e,t){s(t)})},e.prototype.unbindEvents=function(e,t,r){var n=this,i=function(t){try{n.removeEventListener.apply(e,[t,r,!0]),n.jQuery(e).off(t+".abra",r)}catch(i){}};this.jQuery.each(t,function(e,t){i(t)})},e}();i.registerClass("Abra:UserEventBinder",I,"wmjQuery, Abra:CompatibilityUtils");var S=function(){function e(e,t,r,n,i,s,o,a,u,l){this.userEventListener=e,this.eventHandler=t,this.elementDescriptionGenerator=r,this.jQuery=i,this.errorUtils=s,this.textValueCensorship=o,this.collectionIndicator=a,this.eventThrottle=u,this.trackedElementsFilter=l,this.generateElementDescription=this.errorUtils.bindCall(this.elementDescriptionGenerator,this.elementDescriptionGenerator.generate,"element capture"),this.meaningfulElementGetter=this.errorUtils.bindCall(this,function(e,t){if("mousedown"===e||"dblclick"===e)return n.get(t)},"meaningful element")}return e.prototype.createEvent=function(e){if(!this.collectionIndicator.shouldCollect())return;var t=e.getElement(),r=e.getEventType();if(!t||!this.shouldCreateEvent(t,r))return;var n,i=this.meaningfulElementGetter(r,t);i&&(n={type:i.type,climb:i.climb});var s=i?i.element:t,o=this.generateElementDescription(e,s),a=o.desc,u=o.misc,l=o.xpathParts;u&&(n=this.jQuery.extend(u,n));var c=l&&this.trackedElementsFilter.shouldSend(e,a,l);if(!c||!c.result)return;if(this.eventThrottle.shouldThrottle(a,r))return;this.eventHandler.initiate({event:{type:r,element:a,misc:n,reason:c.reason},data:{event:e,censorshipData:this.textValueCensorship.createCensorshipData(e)}})},e.prototype.shouldCreateEvent=function(t,r){if(this.jQuery.inArray(g.getLowerCaseTagName(t),e.BlockedTags)!==-1)return!1;if(this.jQuery.inArray(r,["mousedown","dblclick"])!==-1&&t.textContent&&t.textContent.length>e.MaxTextContent)return!1;return!0},e.prototype.load=function(){var e=this;this.registerId=this.userEventListener.register(function(t){return e.createEvent(t)},["change","mousedown","dblclick","submit"])},e.prototype.unload=function(){this.userEventListener.unregister(this.registerId)},e.BlockedTags=["html","body"],e.MaxTextContent=250,e}();i.registerClass("Abra:UserEventCreator",S,"Abra:UserEventListener, Abra:EventHandler, Abra:ElementDescriptionGenerator, Abra:MeaningfulElementGetter, wmjQuery, Abra:ErrorUtils, Abra:TextValueCensorship, Abra:CollectionIndicator, Abra:EventThrottle, Abra:TrackedElementsFilter");var L=function(){function e(e,t,r,n){var i=this;this.userEventBinder=e,this.frameBinder=t,this.errorUtils=r,this.userEventWrapper=n,this.runningCallbackId=-1,this.distributeMap={},this.unregisterData={},this.enabled=!0,this.mainCallback=function(e){return i.distribute(e)}}return e.prototype.register=function(e,t){for(var r=++this.runningCallbackId,n=[],i=0;i<t.length;i++){var s=t[i];this.distributeMap[s]?this.distributeMap[s].push(e):(this.distributeMap[s]=[e],n.push(s))}return this.bind(n,this.mainCallback),this.unregisterData[r]={callback:e,events:t},r},e.prototype.unregister=function(e){var t=this.unregisterData[e];if(!t)return!1;for(var r=[],n=0;n<t.events.length;n++)for(var i=t.events[n],s=this.distributeMap[i],o=0;o<s.length;o++)if(s[o]===t.callback){s.splice(o,1),0===s.length&&(r.push(i),delete this.distributeMap[i]);break}return this.unbind(r,this.mainCallback),delete this.unregisterData[e],!0},e.prototype.disable=function(){this.enabled=!1},e.prototype.distribute=function(e){var t=this;if(this.enabled)for(var r=this.distributeMap[e.type]||[],n=function(n){i.errorUtils.wrapCallAndLog(function(){return r[n](t.userEventWrapper.wrap(e))},"error distributing event",{trigger:e.type})},i=this,s=0;s<r.length;s++)n(s)},e.prototype.bind=function(e,t){var r=this;this.frameBinder.forEach(function(n){r.userEventBinder.bindEvents(n,e,t)})},e.prototype.unbind=function(e,t){var r=this;this.frameBinder.forEach(function(n){r.userEventBinder.unbindEvents(n,e,t)})},e}();i.registerClass("Abra:UserEventListener",L,"Abra:UserEventBinder, Abra:FrameBinder, Abra:ErrorUtils, Abra:UserEventWrapper");var P=function(){function e(e){this.elementParentsGetter=e}return e.prototype.wrap=function(e){return new D(this.elementParentsGetter,e)},e}(),D=function(){function e(e,t){this.elementParentsGetter=e,this.event=t}return e.prototype.getParents=function(){return this.parents=this.parents||this.elementParentsGetter.get(this.event),this.parents},e.prototype.getElement=function(){var e=this.getParents();return e[e.length-1]},e.prototype.getEvent=function(){return this.event},e.prototype.getEventType=function(){return this.event.type},e}();i.registerClass("Abra:UserEventWrapper",P,"Abra:ElementParentsGetter");var M=function(){function e(e){this.jQuery=e}return e.prototype.get=function(){var e=this;return{classInElementTree:function(t,r){return e.classInElementTree(t,r)},idInElementTree:function(t,r){return e.idInElementTree(t,r)}}},e.prototype.classInElementTree=function(e,t){if(e.compiled||(e.compiled=this.convertClassArrayToRegex(e.values)),e.values.length>0)for(var r=t.length-1;r>=0;r--){var n=this.jQuery(t[r]).attr("class");if(n&&e.compiled.test(n))return!0}return!1},e.prototype.convertClassArrayToRegex=function(e){var t=[];return this.jQuery.each(e,function(e,r){var n=ae.escapeRegExp(r);t.push("(^|[\\s\\uFEFF\\xA0]{1})"+n+"($|[\\s\\uFEFF\\xA0]{1})")}),new RegExp(t.join("|"),"i")},e.prototype.idInElementTree=function(e,t){if(e.values.length>0&&this.isIdsExistInElementArray(t,e.values))return!0;return!1},e.prototype.isIdsExistInElementArray=function(e,t){for(var r=0;r<e.length;r++)for(var n=0;n<t.length;n++)if(e[r].id===t[n])return!0;return!1},e}();i.registerClass("Abra:CensorshipConditionsGetter",M,"wmjQuery");var j=function(){function e(e,t,r,n){this.jQuery=e,this.logger=t,this.censorshipRules=this.getCensorshipRules(n.get()),this.conditionDictionary=r.get()}return e.prototype.hasCensorshipRules=function(){return this.censorshipRules.length>0},e.prototype.getCensorshipRules=function(e){var t=e&&e.element&&e.element.censorshipRules;return t||[]},e.prototype.provide=function(e){for(var t={},r=this.censorshipRules.length-1;r>=0;r--)if(this.conditionDictionary[this.censorshipRules[r].type]){if(this.conditionDictionary[this.censorshipRules[r].type](this.censorshipRules[r],e)){var n=this.censorshipRules[r].methods;n&&n.length>0&&this.jQuery.each(n,function(e,r){t[r]=!0})}}else this.logger.error("censorship type does not exist: "+this.censorshipRules[r].type);return t},e}();i.registerClass("Abra:CensorshipMethodsProvider",j,"wmjQuery, Abra:Logger, Abra:CensorshipConditionsGetter, Abra:DataCollectionSettingsWrapper");var O=function(){function e(e){this.privacyUtils=e,this.propertiesToIgnore=V.convertArrayToObject(["xpath"])}return e.prototype.censorEvent=function(e){var t=e.event;if(t.element){if(this.privacyUtils.removeInputValues&&("keypress"===t.type||"change"===t.type)){var r=e.data&&e.data.censorshipData&&e.data.censorshipData.tagName;"select"!==r&&(t.element.value=void 0,t.element.text=void 0)}t.element=this.privacyUtils.filterCreditCard(t.element,this.propertiesToIgnore)}},e.prototype.createCensorshipData=function(e){return{tagName:g.getLowerCaseTagName(e.getElement())}},e}();i.registerClass("Abra:TextValueCensorship",O,"Abra:PrivacyUtils");var k;!function(e){e[e.Creating=0]="Creating",e[e.Altering=1]="Altering",e[e.Finalizing=1e3]="Finalizing"}(k||(k={}));var F=function(){function e(e,t,r){this.promiseManager=e,this.jQuery=t,this.logger=r,this.providers=[],this.providersCount=0}return e.prototype.build=function(t){var r=this;if(0===this.providersCount)return this.promiseManager.resolve(t.event);return this.jQuery(e.ProvidersTypeOrder).reduce(function(e,n){return e.then(function(){return r.runProvidersGroup(t,r.providers[n])})},this.promiseManager.resolve()).then(function(){return t.event})},e.prototype.runProvidersGroup=function(e,t){var r=this,n=[];if(t)for(var i=function(i){var o=t[i];try{var a=o.handler(e);if(a){var u=a["catch"](function(e){r.logger.error("failed to run provider",e,{providerName:o.name,promise:!0})});n.push(u)}}catch(l){s.logger.error("failed to run provider",l,{providerName:o.name})}},s=this,o=0;o<t.length;o++)i(o);return this.promiseManager.all(n)},e.prototype.register=function(e,t,r){void 0===r&&(r=k.Creating),this.providers[r]=this.providers[r]||[],this.providers[r].push({name:e,handler:t}),this.providersCount++},e.ProvidersTypeOrder=[k.Creating,k.Altering,k.Finalizing],e}();i.registerClass("Abra:EventBuilder",F,"PromiseManager, wmjQuery, Abra:Logger");var U=function(){function e(){this.throttleTTL=6e4,this.cache={}}return e.prototype.shouldThrottle=function(e,t){var r=ue.now();return!!this.existsInCache(e,t,r)||(this.saveToCache(e,t,r),!1)},e.prototype.existsInCache=function(e,t,r){var n=this.cache[t];return n&&r<=n.time+this.throttleTTL&&e.xpath===n.description.xpath&&e.value===n.description.value&&e.text===n.description.text&&e.label===n.description.label},e.prototype.saveToCache=function(e,t,r){var n={xpath:e.xpath,value:e.value,text:e.text,label:e.label};this.cache[t]={description:n,time:r}},e.prototype.setThrottleTTL=function(e){this.throttleTTL=e},e}();i.registerClass("Abra:EventThrottle",U);var Q=function(){function e(e){this.walkme=e}return e.prototype.isCaptureBindCompatible=function(){var e=this.walkme.getHostData();return e.isIE(9,"gte")||!e.isIE()},e}();i.registerClass("Abra:CompatibilityUtils",Q,"Abra:Walkme");var N=function(){function e(e,t,r){this.promiseManager=e,this.jQuery=t,this.logger=r}return e.prototype.wrapCatch=function(e){var t=this;return function(r){return t.promiseManager.reject(t.wrapError(r,e))}},e.prototype.wrapCall=function(e,t){try{return e()}catch(r){throw this.wrapError(r,t)}},e.prototype.bindCall=function(e,t,r){void 0===e&&(e=null);var n=this;return function(){try{return t.apply(e,arguments)}catch(i){throw n.wrapError(i,r)}}},e.prototype.wrapCallAndLog=function(e,t,r){try{return e()}catch(n){n=this.wrapError(n,r),this.logger.error(t,n,n.extraData)}},e.prototype.wrapError=function(e,t){var r="string"==typeof e?{message:e}:e||{message:"no error provided"};return t="string"!=typeof t?t||{}:{failPoint:t},r.extraData=this.jQuery.extend(t,r.extraData),r},e}();i.registerClass("Abra:ErrorUtils",N,"PromiseManager, wmjQuery, Abra:Logger");var G=function(){function e(e){this.eventsSenderFactory=e}return e.prototype.init=function(e){var t={name:"Abra",postEventAction:"/event/tell",storageConfig:{keyName:e,autoSave:!1,expiresSeconds:600},stagingStorageConfig:{keyName:e+"-s",autoSave:!1,expiresSeconds:600},failureStorageConfig:{keyName:e+"-f",autoSave:!0,expiresSeconds:86400},storageType:"session",dataSender:"accumulation",clientStorageManager:"ArrayBuffer",clientStagingStorageManager:"ArrayBuffer"};this.sender=this.eventsSenderFactory.generateAndGetEventsSender(t),this.sender.enable()},e.prototype.disable=function(){this.sender&&(this.sender.sleep(),this.sender.disable(),this.sender=void 0)},e.prototype.send=function(e){this.sender&&this.sender.send(e)},e}();i.registerClass("Abra:EventsSenderWrapper",G,"EventsSenderFactory");var W=function(){function e(e,t,r,n){this.iFramesManager=e,this.uIChangeTracker=t,this.featuresManager=r,this.logger=n}return e.prototype.load=function(){var t=this;if(this.isSpa()||this.iFramesManager.mapIframes(),this.featuresManager.isFeatureEnabled("Abra-ObserveIframes"))try{this.iframeObserver=new _(e.IframeObserverMaxDrillDown),this.iframeObserver.observe(function(){t.iFramesManager.remapTopIframes()},function(e){t.logger.error("iframe mutation observer callback error",e)})}catch(r){this.logger.error("error observing iframe mutations",r)}},e.prototype.unload=function(){this.iframeObserver&&(this.iframeObserver.disconnect(),this.iframeObserver=void 0)},e.prototype.forEach=function(e){var t=this;e(document);try{var r=function(r){var n=r.documentAccessible&&t.getDocument(r.iframe);n&&e(n)};this.iFramesManager.foreachIframe(r,!0),this.iFramesManager.onIframeLoad(r)}catch(n){}},e.prototype.getDocument=function(e){try{var t=e.contentWindow&&e.contentWindow.document;return t=t||e.contentWindow&&e.contentWindow.window&&e.contentWindow.window.document,t=t||e.contentDocument}catch(r){}},e.prototype.isSpa=function(){return this.uIChangeTracker.isActivated()},e.IframeObserverMaxDrillDown=3,e}();i.registerClass("Abra:FrameBinder",W,"IFramesManager, UIChangeTracker, FeaturesManager, Abra:Logger");var R,B=function(){function e(){}return e.isIframe=function(){return top!==window},e.getTopTitle=function(){return top.window.document.title},e}();!function(e){function t(e){var t=!1;return function(){if(!t)return t=!0,e()}}e.allowOnce=t}(R||(R={}));var V,_=function(){function e(e){this.maxDrillDown=e}return e.prototype.observe=function(e,t){var r=this,n=window.MutationObserver;if(n){var i={attributes:!1,childList:!0,subtree:!0};this.observer=new n(function(n){try{r.wasIframeAdded(n)&&e()}catch(i){t(i)}}),this.observer.observe(document,i)}},e.prototype.disconnect=function(){this.observer.disconnect()},e.prototype.wasIframeAdded=function(t){for(var r=0;r<t.length;r++){var n=t[r];if("childList"==n.type)for(var i=n.addedNodes,s=0;s<i.length;s++)if(e.isParentNodeContainsIframe(i[s],this.maxDrillDown))return!0}return!1},e.isParentNodeContainsIframe=function(t,r){if(t&&(t.nodeType===ce.Element||t.nodeType===ce.DocumentType||t.nodeType===ce.Document||t.nodeType===ce.DocumentFragment)){if("IFRAME"===t.nodeName)return!0;var n=t.children;if(r>0&&n)for(var i=0;i<n.length;i++)if(e.isParentNodeContainsIframe(n[i],r-1))return!0}return!1},e}();!function(e){function t(e,t){return{key:e,value:t}}e.createKeyValuePair=t;function r(e){for(var t={},r=0;r<e.length;r++)t[e[r]]=!0;return t}e.convertArrayToObject=r;function n(e){for(var t={},r=0;r<e.length;r++)t[e[r]]=r;return t}e.convertArrayToValueIndexMap=n}(V||(V={}));var z=function(){function e(e,t,r,n,i){this.jQuery=e,this.censorshipMethodsProvider=t,this.elementParentsGetter=r,this.featuresManager=n,this.dataCollectionSettings=i,this.allowedInputTypes=["radio","checkbox","button","reset","submit"],this.removeInputValues=!0,this.censorAllText=!1;var s=i.get();this.removeInputValues="collect"!==(s&&s.element&&s.element.inputValues),this.removeInputValues||(this.allowedInputTypes=e.merge(this.allowedInputTypes,["text","search","number","tel","email","url"])),n.isFeatureEnabled("UbtNoText")&&(this.censorAllText=!0)}return e.prototype.isPrivacyUnsafeElementType=function(e){if(e.nodeType===ce.Element&&e.tagName){if(this.removeInputValues&&"true"===this.jQuery(e).attr("contenteditable"))return!0;var t=g.getLowerCaseTagName(e);if(this.removeInputValues&&"textarea"===t)return!0;if("input"===t){var r=(e.type||"").toLowerCase();if(this.jQuery.inArray(r,this.allowedInputTypes)!==-1)return!1;return!0}}return!1},e.prototype.filterCreditCard=function(t,r){if(void 0===r&&(r={}),t){var n=typeof t;if("object"===n)if("number"!=typeof t.length||t.propertyIsEnumerable("length"))for(var i in t)t.hasOwnProperty(i)&&!r[i]&&(t[i]=this.filterCreditCard(t[i]));else for(var s=t.length-1;s>=0;s--)t[s]=this.filterCreditCard(t[s]);else if("string"===n&&t.length>=12){if(e.isCreditCard(t))return null}else if("number"===n&&t>=99999999999)return null}return t},e.isCreditCard=function(e){return e.length>=12&&this.creditCardRegex.test(e)},e.prototype.shouldCensorText=function(e,t){if(this.censorAllText)return!0;if(this.censorshipMethodsProvider.hasCensorshipRules())return e=e||this.elementParentsGetter.getFromElement(t),this.censorshipMethodsProvider.provide(e).removeTextValues;return!1},e.creditCardRegex=/(?:[\s\xA0-]{0,5}\d{4,}){3}/,e}();i.registerClass("Abra:PrivacyUtils",z,"wmjQuery, Abra:CensorshipMethodsProvider, Abra:ElementParentsGetter, FeaturesManager, Abra:DataCollectionSettingsWrapper");var H=function(){function e(){}return e.prototype.gamble=function(e){return Math.random()<=e},e}();i.registerClass("Abra:StatisticsUtils",H);var X=function(){function e(e){this.walkmeCommonUtils=e}return e.prototype.stringify=function(e){return this.walkmeCommonUtils.toJSON(e)},e.prototype.parse=function(e){return this.walkmeCommonUtils.secureEvalJSON(e)},e}();i.registerClass("Abra:JSON",X,"CommonUtils");var J=function(){function e(e,t,r,n,i){var s=this;this.storageManager=e,this.promiseManager=t,this.guidGenerator=r,this.sessionPersister=n,this.jQuery=i,this.libCallback=function(){return s.createNew()}}return e.prototype.load=function(){if(this.jQuery(a.WalkmeInternals).on(e.LibNewSessionEventName,this.libCallback),this.sessionPersister.isNewSession())return this.promiseManager.resolve(this.createNew());return this.getOrCreate()},e.prototype.unload=function(){this.jQuery(a.WalkmeInternals).off(e.LibNewSessionEventName,this.libCallback)},e.prototype.getOrCreate=function(){var e=this;return this.get().then(function(t){return t||e.createNew()})},e.prototype.get=function(){var t=this;return new this.promiseManager.Promise(function(r){t.storageManager.getStorage().getData(e.WindowIdStorageKey,void 0,void 0,function(e){r(e)})})},e.prototype.createNew=function(){var t=this.guidGenerator.generateGuid(!0);return this.storageManager.getStorage().saveData(e.WindowIdStorageKey,t),t},e.WindowIdStorageKey="__WMML_SESSION_ID__",e.LibNewSessionEventName="NewSession",e}();i.registerClass("Abra:WindowIdGetter",J,"Abra:StorageManager, PromiseManager, GuidGenerator, SessionPersister, wmjQuery");var K=function(){function e(e){this.customerLog=e.wrapCustomerLog("Abra")}return e.prototype.error=function(e,t){this.logError(1,e,t)},e.prototype.warn=function(e,t){this.logError(2,e,t)},e.prototype.info=function(e){this.log(3,e)},e.prototype.debug=function(e){this.log(4,e)},e.prototype.logError=function(e,t,r){var n=r&&r.stack||(r&&r.length?r:"");this.customerLog(t+": "+n,e)},e.prototype.log=function(e,t){this.customerLog(t,e)},e}(),q=function(e){n(t,e);function t(t,r,n,s,o,a){var u=e.call(this,n)||this;u.serverLogger=t,u.ubtPerformance=r,u.walkmeLogger=n,u.walkMeInfo=s,u.featuresManager=o,u.wmjQuery=a,u.enableServerLogger=!0;try{u.libVersion=s.getLibVersion(),o.isFeatureEnabled("UbtReduceServerLogs")&&Math.random()>.05&&(u.enableServerLogger=!1),i.getCtx().has("CleanObject")&&(u.cleanObject=i.getCtx().get("CleanObject"))}catch(l){}return u}return t.registerLogger=function(e){var r="Abra:Logger";return e.has(r)||e.register(r).asCtor(t).dependencies("EventSenderErrorLogger, Abra:UbtPerformance, Logger, WalkMeInfo, FeaturesManager, wmjQuery"),e.get(r)},t.prototype.error=function(t,r,n){void 0===n&&(n={}),n.app=a.App.name,n.version=a.App.version,n.rev=a.App.rev,n.libVersion=this.libVersion,r&&("string"==typeof r?n.errorMsg=r:(r.message||r.stack||r.extraData)&&(n.errorMsg=r.message,n.stack=r.stack,n=r.extraData?this.wmjQuery.extend(n,r.extraData):n)),void 0===n.errorMsg&&void 0!==r&&(n.errorMsg='could not get errorMsg, error type is "'+typeof r+'"'),this.cleanObject&&(n=this.cleanObject(n)),this.enableServerLogger&&this.serverLogger.logError(t,n),e.prototype.error.call(this,t,r)},t.prototype.perf=function(e){return this.ubtPerformance.perf(e)},t}(K),$=function(){function e(e){this.performanceLogger=e,this.perfOptions=this.createPerfOptions()}return e.prototype.createPerfOptions=function(){return{extraData:{app:a.App.name,version:a.App.version,gitRevision:a.App.rev}}},e.prototype.perf=function(e){var t=this.performanceLogger.measure(a.App.name+"-"+e,this.perfOptions);return{stop:function(){return t&&t.stop()},step:function(e){}}},e}(),Z=function(){function e(e,t,r){if(this.logger=e,this.settings={},i.getCtx().has("DataCollectionSettings")){var n=i.getCtx().get("DataCollectionSettings").get();this.settings=t.extend(!0,{},n),r.gamble(.02)&&this.validateSettings(this.settings)}this.settings.element=this.settings.element||{},this.applyCensorshipDefaults(),this.applyXpathDefaults()}return e.prototype.validateSettings=function(e){e.element||e.page||e.loading||this.logger.error("Collection settings are missing, using default")},e.prototype.applyCensorshipDefaults=function(){this.settings.element.censorshipRules=this.settings.element.censorshipRules||[],this.settings.element.censorshipRules.push({type:"classInElementTree",values:["jaco-hide","wm-hide"],methods:["removeTextValues"]})},e.prototype.applyXpathDefaults=function(){this.settings.element.xpath=this.settings.element.xpath||{},this.settings.element.xpath.classMaxLength=this.settings.element.xpath.classMaxLength||35,this.settings.element.xpath.idMaxLength=this.settings.element.xpath.idMaxLength||40,this.settings.element.xpath.attributeMaxLength=this.settings.element.xpath.attributeMaxLength||300,this.settings.element.xpath.xpathMaxLength=this.settings.element.xpath.xpathMaxLength||3e3},e.prototype.get=function(){return this.settings},e}();i.registerClass("Abra:DataCollectionSettingsWrapper",Z,"Abra:Logger, wmjQuery, Abra:StatisticsUtils");var Y=function(){function e(e,t){this.dataCollectionSettings=e,this.featuresManager=t,this.result=void 0}return e.prototype.shouldCensorUrl=function(){return void 0===this.result&&(this.result=this.checkCollectionSettings()||this.checkLegacyFlags()),this.result},e.prototype.checkCollectionSettings=function(){var e=this.dataCollectionSettings.get();return!!(e&&e.page&&e.page.censorship&&e.page.censorship.url)},e.prototype.checkLegacyFlags=function(){return this.featuresManager.isFeatureEnabled("disableWidgetOpenFullUrl")||this.featuresManager.isFeatureEnabled("dontSendPageUrl")},e}();i.registerClass("Abra:UrlCensorshipController",Y,"Abra:DataCollectionSettingsWrapper, FeaturesManager");var ee=function(){function e(e){this.storage=e}return e.prototype.getData=function(e,t,r,n){this.storage.sessionGetData(e,t,r,n)},e.prototype.saveData=function(e,t){this.storage.sessionSetData(e,t)},e}(),te=function(){function e(){}return e.prototype.getData=function(e,t,r,n){n(sessionStorage[e]||t)},e.prototype.saveData=function(e,t){sessionStorage[e]=t},e}(),re=function(){function e(e){this.walkme=e,this.isCrossDomain()?this.storage=new ee(this.walkme.getClientStorageManager()):this.storage=new te}return e.prototype.isCrossDomain=function(){var e=this.walkme.getStorageType();if(e.indexOf("crossdomain")!==-1)return!0;return!1},e.prototype.getStorage=function(){return this.storage},e}();i.registerClass("Abra:StorageManager",re,"Abra:Walkme");var ne=function(){function e(e,t){this.promiseManager=e,this.storageManager=t}return e.prototype.getStorageKey=function(){var t=this;return new this.promiseManager.Promise(function(r){B.isIframe()?t.storageManager.getStorage().getData(e.StorageNumberKey,1,void 0,function(n){t.storageManager.getStorage().saveData(e.StorageNumberKey,Number(n)+1),r("wm-dc-storage"+n)}):r("wm-dc-storage0")})},e.StorageNumberKey="__WMML_STORAGE_NUM__",e}();i.registerClass("Abra:StorageSynchronizer",ne,"PromiseManager, Abra:StorageManager");var ie=function(){function e(){}return e.Value={element:{autoQuery:500,text:500,value:120},ctx:{topTitle:512}},e}(),se=function(){function e(){this.buffer=[]}return e.prototype.append=function(e){this.buffer.push(e)},e.prototype.toString=function(){var e=this.buffer.join("");return e},e}(),oe=function(){function e(){}return e.escapeSurrogatePairs=function(t){if(!e.containsSurrogatePair(t))return t;for(var r=-1,n=t.length,i=new se;++r<n;){var s=t.charAt(r);/[\uD800-\uDBFF]/.test(s)||/[\uDC00-\uDFFF]/.test(s)?i.append(e.escapeChar(s)):i.append(s)}return i.toString()},e.containsSurrogatePair=function(e){var t=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g;return null!=t.exec(e)},e.escapeChar=function(e){var t=e.charCodeAt(0),r=t.toString(16).toUpperCase(),n=r.length>2,i="\\"+(n?"u":"x")+("0000"+r).slice(n?-4:-2);return i},e}(),ae=function(){function e(e){this.privacyUtils=e}return e.substringObject=function(t,r){if(t&&r&&"object"==typeof r)for(var n in t)if(t.hasOwnProperty(n)&&r.hasOwnProperty(n)){var i=typeof r[n];"string"===i&&"number"==typeof t[n]?r[n]=r[n].substring(0,t[n]):"object"===i&&(r[n]=e.substringObject(t[n],r[n]))}return r},e.trim=function(e,t){if(void 0!==t)return e.replace(/^[\s\uFEFF\xA0]+/g,"").substr(0,t).replace(/[\s\uFEFF\xA0]+$/g,"");return e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")},e.removeExtraSpaces=function(e){var t=/\s+/g;return e.replace(t," ").trim()},e.extractElementText=function(t){var r=t.nodeValue;return r&&(r=e.removeExtraSpaces(r),r=oe.escapeSurrogatePairs(r)),r},e.prototype.collectText=function(e,t){var r={textBuffer:[],totalLength:0,active:!0};this.collectTextInner(e,t,r);var n=r.textBuffer.join("\n");return void 0!==t.maxLength&&n.length>t.maxLength&&(n=n.substring(0,t.maxLength)),n},e.prototype.collectTextInner=function(t,r,n){if(t&&!this.privacyUtils.isPrivacyUnsafeElementType(t)){if(g.isElementTextNode(t)){var i=e.extractElementText(t);if(i&&0!==i.length){void 0!==r.maxNodeTextLength&&(i=i.substring(0,r.maxNodeTextLength));var s=!1;void 0!==r.textFilterCb&&(s=r.textFilterCb(i,t.nodeValue)!==!0),s===!1&&(n.textBuffer.push(i),n.totalLength+=i.length,(void 0!==r.maxLength&&n.totalLength>=r.maxLength||r.collectFirstOnly===!0)&&(n.active=!1))}}var o=!1;if(r.includeNonVisual!==!0&&(o=g.isVisualDomElement(t)===!1),t.childNodes&&n.active&&o===!1)for(var a=0,u=t.childNodes.length;a<u&&n.active;a++)this.collectTextInner(t.childNodes[a],r,n)}},e.escapeRegExp=function(e){return e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")},e.escapeJQuerySelectorAttributeValue=function(e){return e.replace(this.escapeJQuerySelectorAttributeValueRegex,'\\"')},e.escapeJQuerySelectorAttributeValueRegex=/"/g,e}();i.registerClass("Abra:TextUtils",ae,"Abra:PrivacyUtils");var ue=function(){function e(e,t){this.timerManager=e,this.errorUtils=t,this.enabled=!0}return e.prototype.clearTimeout=function(e){e&&e.clear()},e.prototype.disable=function(){this.enabled=!1},e.prototype.setTimeout=function(e,t){var r=this;if(this.enabled)return this.timerManager.libSetTimeout(function(){return r.enabled&&r.errorUtils.wrapCallAndLog(e,"timeout")},t)},e.prototype.createOnNextEventLoopFunc=function(e){var t=this;return function(){t.timerManager.libSetTimeout(e,0)}},e.now=function(){return(new Date).getTime()},e.getTimingData=function(){var e=window.performance,t=e&&e.timing;if(t){var r=t.navigationStart,n=t.loadEventEnd;return{navStart:r,loadTime:n-r}}},e}();i.registerClass("Abra:TimingUtils",ue,"TimerManager, Abra:ErrorUtils");var le=function(){function e(e){this.timingUtils=e}return e.prototype.create=function(e,t){return new he(this.timingUtils,e,t)},e}();i.registerClass("Abra:ReusableTimerFactory",le,"Abra:TimingUtils");var ce,he=function(){function e(e,t,r){this.timingUtils=e,this.callback=t,this.delay=r}return e.prototype.clear=function(){this.timerHandle&&(this.timingUtils.clearTimeout(this.timerHandle),this.timerHandle=void 0)},e.prototype.set=function(){this.clear(),this.timerHandle=this.timingUtils.setTimeout(this.callback,this.delay)},e}();!function(e){e[e.Element=1]="Element",e[e.Text=3]="Text",e[e.CDATASection=4]="CDATASection",e[e.DocumentType=9]="DocumentType",e[e.Document=10]="Document",e[e.DocumentFragment=11]="DocumentFragment"}(ce||(ce={}));var pe;!function(e){e[e.TrackedEvent=1]="TrackedEvent",e[e.Sampling=2]="Sampling"}(pe||(pe={}));var ge=function(){function e(e,t){this.statisticsUtils=e,this.isEnabledFlag=!1,this.chance=0;var r,n=t.getSync();n&&n.trackedEventsWhitelist&&n.trackedEventsWhitelist.settings&&(r=n.trackedEventsWhitelist.settings.sampleRate),"number"==typeof r&&r>0&&(this.chance=1/r,this.isEnabledFlag=!0)}return e.prototype.shouldSample=function(){return this.isEnabledFlag&&this.statisticsUtils.gamble(this.chance)},e.prototype.isEnabled=function(){return this.isEnabledFlag},e}();i.registerClass("Abra:EventSampler",ge,"Abra:StatisticsUtils, Abra:InsightsConfigurationGetter");var de=function(){function e(e,t,r,n){this.jQuery=e,this.trackedElementsGetter=t,this.eventSampler=r,this.logger=n}return e.prototype.shouldSend=function(t,r,n){var i=t.getEventType();if("mousedown"!==i&&"change"!==i&&"dblclick"!==i)return e.Results.Collect;var s=this.trackedElementsGetter.get(i);if(!s&&!this.eventSampler.isEnabled())return e.Results.Collect;if(s&&this.isWhitelistConditionsApply(t,r,n,s))return e.Results.TrackedEvent;if(this.eventSampler.shouldSample())return e.Results.Sampling;return e.Results.DoNotCollect},e.prototype.isWhitelistConditionsApply=function(e,t,r,n){ve.prepareOptimizationObject(n);var i=this.logger.perf("whitelist filter");i.step("ids and classes");for(var s=r.length-1;s>=0;s--){var o=r[s];if(o.id){if(n.ids&&n.ids[o.id])return!0;n._selectorsOptimization&&n._selectorsOptimization.usedInSelectors.ids&&void 0!==n._selectorsOptimization.usedInSelectors.ids[o.id]&&(n._selectorsOptimization.existInXpath.ids[n._selectorsOptimization.usedInSelectors.ids[o.id]]=!0)}for(var a=0;a<o.classes.length;a++){if(n.classes&&n.classes[o.classes[a]])return!0;n._selectorsOptimization&&n._selectorsOptimization.usedInSelectors.classes&&void 0!==n._selectorsOptimization.usedInSelectors.classes[o.classes[a]]&&(n._selectorsOptimization.existInXpath.classes[n._selectorsOptimization.usedInSelectors.classes[o.classes[a]]]=!0)}if(n._selectorsOptimization&&n._selectorsOptimization.usedInSelectors.tags&&void 0!==n._selectorsOptimization.usedInSelectors.tags[o.tagName]&&(n._selectorsOptimization.existInXpath.tags[n._selectorsOptimization.usedInSelectors.tags[o.tagName]]=!0),n._selectorsOptimization&&n._selectorsOptimization.usedInSelectors.attributes)for(var a=0;a<o.attributes.length;a++)void 0!==n._selectorsOptimization.usedInSelectors.attributes[o.attributes[a].key]&&(n._selectorsOptimization.existInXpath.attributes[n._selectorsOptimization.usedInSelectors.attributes[o.attributes[a].key]]=!0);
}if(i.step("text"),t&&t.text&&n.text&&n.text[t.text])return!0;if(i.step("labels"),t&&t.label&&n.labels&&n.labels[t.label])return!0;if(i.step("selectors"),n.selectors)for(var u=void 0,s=0;s<n.selectors.length;s++)if(n.selectors[s]&&ve.shouldRunSelector(n,s)){u=u||this.prepareParents(e.getParents());try{for(var a=u.length-1;a>=0;a--)if(u[a].is(n.selectors[s]))return!0}catch(l){n.selectors[s]=null}}return i.stop(),!1},e.prototype.prepareParents=function(t){var r=this;return this.jQuery(t.slice(-e.SelectorsMaxParents)).map(function(e,t){return r.jQuery(t)}).get()},e.SelectorsMaxParents=50,e.Results={DoNotCollect:{result:!1},Collect:{result:!0},TrackedEvent:{result:!0,reason:pe.TrackedEvent},Sampling:{result:!0,reason:pe.Sampling}},e}();i.registerClass("Abra:TrackedElementsFilter",de,"wmjQuery, Abra:TrackedElementsGetter, Abra:EventSampler, Abra:Logger");var fe=function(){function e(e){this.insightsConfigurationGetter=e}return e.prototype.get=function(e){var t=this.insightsConfigurationGetter.getSync();if(t){var r=t.trackedEventsWhitelist;if(r)switch(e){case"change":return r.inputs||{};default:return r.clicks||{}}}return null},e}();i.registerClass("Abra:TrackedElementsGetter",fe,"Abra:InsightsConfigurationGetter");var ve=function(){function e(){}return e.prepareOptimizationObject=function(t){if(!(t&&t.selectorsComponents&&t.selectorsComponents.symbols&&t.selectorsComponents.usage))return;if(t._selectorsOptimization)for(var r=0;r<e.ComponentTypes.length;r++)e.resetArray(t._selectorsOptimization.existInXpath[e.ComponentTypes[r]]);else t._selectorsOptimization=this.createOptimizationObject(t)},e.shouldRunSelector=function(t,r){if(!t._selectorsOptimization)return!0;for(var n=0;n<e.ComponentTypes.length;n++){var i=e.ComponentTypes[n],s=t.selectorsComponents.usage[i]&&t.selectorsComponents.usage[i][r];if(s&&t._selectorsOptimization.existInXpath[i])for(var o=0;o<s.length;o++)if(!t._selectorsOptimization.existInXpath[i][s[o]])return!1}return!0},e.createOptimizationObject=function(t){for(var r={usedInSelectors:{},existInXpath:{}},n=0;n<e.ComponentTypes.length;n++){var i=e.ComponentTypes[n];t.selectorsComponents.symbols[i]&&(r.usedInSelectors[i]=V.convertArrayToValueIndexMap(t.selectorsComponents.symbols[i]),r.existInXpath[i]=this.createCompareArray(t.selectorsComponents.symbols[i].length))}return r},e.createCompareArray=function(e){for(var t=[],r=0;r<e;r++)t.push(!1);return t},e.resetArray=function(e){if(!e)return;for(var t=0;t<e.length;t++)e[t]=!1},e.ComponentTypes=["ids","classes","attributes","tags"],e}()},function(e,t,r){var n=r(6);function i(e){i.prototype.encode=function(t){var r=n.encode(e.stringify(t));return{_enc:r}}}e.exports={Encoder:i}},function(e,t){var r=31;function n(e){for(var t,n=[],i=e.length-1;i>=0;i--)t=e.charCodeAt(i),n.push(~(t&r)&r|t&~r);return String.fromCharCode.apply(null,n)}e.exports={decode:n,encode:n}},function(e,t,r){e.exports=function(e){var t=new(r(8))(e),n=new(r(9))(t,e);return n}},function(e,t){e.exports=r;function r(e){this.getJQuery=t;function t(t){if(e.jquery)return e.jquery;if(e.getJQuery)return e.getJQuery(t);var r=n(t);return r&&r.wmjQuery}function r(t){if(e.fnName)return e.fnName;if(t){if(t.getLibWrappedWindow)return"getLibWrappedWindow";if(t.getLibWindow)return"getLibWindow"}}function n(t){if(e.winProvider){var n=r(e.winProvider);return e.winProvider[n](t)}return window}}},function(e,t){e.exports=r;function r(e,t){this.isEnabled=function(){try{return t.featuresService&&t.featuresService.isEnabled("jQueryProxy")}catch(e){return!1}},this.jqProxyProp=function(t,r){if(this.isEnabled()){var n=e.getJQuery(t);if(n&&n.fnHelpers)return n.fnHelpers[r](t)}return t[r]},this.parentNode=function(e){return this.jqProxyProp(e,"parentNode")},this.firstElementChild=function(e){return this.jqProxyProp(e,"firstElementChild")},this.childNodes=function(e){return this.jqProxyProp(e,"childNodes")},this.previousSibling=function(e){return this.jqProxyProp(e,"previousSibling")}}},function(e,t,r){!function(t,r){"object"==typeof e&&"object"==typeof e.exports?e.exports=r:t.queryGenerator=r}(this,function(e,t){var n;return function(n){var i=["DIV","SPAN","HTML","BODY","TR","TD"],s=["'"],o=r(11);o.setJQuery(e);function a(t){var r=c(t),n=[t[0]].concat(r),i=e.map(n,f),s=h(i,function(e){return null!==e}),o=g(s);o=o.reverse();var a=e.map(o,p),u=a.join(" ");return l(u)?u:void 0}n.generate=a;function u(e,t,r){if(!e)return e;var n=/^((.+) )*(([^\[]+)(\[id=".*"\])?)$/,i=e.match(n),s=i[1]||"",a=i[4],u=s+a;return!t&&r&&o.isPhraseHuman(r)&&(u+='[id="'+r+'"]'),u}n.modifyAutoQuery=u;function l(e){if(!e||!e.length)return!1;for(var t=0;t<s.length;t++)if(e.indexOf(s[t])>=0)return!1;return!0}function c(e,r){for(var n=t.parentNode(e[0]),i=r&&r[0]&&t.parentNode(r[0]),s=[];n&&1==n.nodeType&&n!=i;n=t.parentNode(n))s.push(n);return s}function h(e,t){for(var r=[],n=0;n<e.length;++n){var i=e[n];t(i)&&r.push(i)}return r}function p(e){var t=e.tagName;return e.id&&(t+='[id="'+e.id+'"]'),t}function g(e){for(var t=e.length,r=0;r<e.length;r++){var n=e[r];if(n.id){t=r;break}}var i=e.slice(0,t+1);return i}function d(e){var t=e.attr("id");if(t&&o.isPhraseHuman(t))return t;return null}function f(t,r){var n=e(t),s=d(n),o=n[0].tagName,a=e.inArray(o,i)>=0,u=0===r,l=u||s||!a;if(!l)return null;var c={tagName:o,id:s};return c}}(n||(n={})),n})},function(e,t){var r;!function(e){var t,r,n=/[a-zA-Z]/,i=/[0-9]/;!function(e){e[e.Digit=0]="Digit",e[e.Alphabet=1]="Alphabet",e[e.Other=2]="Other"}(r||(r={}));function s(e){t=e}e.setJQuery=s;function o(e){var t=new h,r=new u(e),n=t.isHuman(r);return n}e.isPhraseHuman=o;function a(e){if(n.test(e))return r.Alphabet;if(i.test(e))return r.Digit;return r.Other}var u=function(){function e(e){this.words=[],this.raw=e,this.buildWords()}return e.prototype.buildWords=function(){this.splitCategories()},e.prototype.addWord=function(e){var n=this;if(e=t.trim(e),!e)return;if(a(e[0])!==r.Alphabet)this.words.push(e);else{var i=this.splitCamelCase(e);t.each(i,function(e,t){return n.words.push(t.toLowerCase())})}},e.prototype.splitCamelCase=function(e){var t=e.replace(/([a-z](?=[A-Z]))/g,"$1 "),r=t.split(" ");return r},e.prototype.splitCategories=function(){for(var e,t=a(this.raw[0]),r=0,n=0;n<this.raw.length;n++){var i=this.raw[n],s=a(i);s!=t&&(e=this.raw.substring(n,r),this.addWord(e),r=n,t=s)}e=this.raw.substring(r,n+1),this.addWord(e)},e}();e.Sentence=u;var l=5,c=function(){function e(){var e=this;this.WHITE_LIST=["html","css","btn","js","http","a"],this.VOWELS="aeiou",this.pointers={},this.pointers[r.Alphabet]=function(t){return e.alphabetPred(t)},this.pointers[r.Digit]=function(t){return e.numberPred(t)},this.pointers[r.Other]=function(t){return e.otherPred(t)}}return e.prototype.numberPred=function(e){return!1},e.prototype.otherPred=function(e){return!0},e.prototype.alphabetPred=function(e){for(var t=0,r=0;r<e.length;r++){var n=e[r];if(this.VOWELS.indexOf(n)==-1?t++:t=0,t>=l)return!1}return!0},e.prototype.isHuman=function(e){if(this.contains(this.WHITE_LIST,e))return!0;var t=a(e[0]),r=this.pointers[t],n=r(e);return n},e.prototype.contains=function(e,r){return t.inArray(r,e)!==-1},e}();e.WordClassifier=c;var h=function(){function e(){}return e.prototype.isHuman=function(e){if(e.raw.length<=2)return!1;if(this.isUrl(e))return!1;var r=new c,n=t.map(e.words,function(e,t){return r.isHuman(e)}),i=this.all(n);return i},e.prototype.all=function(e){for(var t=e.length-1;t>=0;t--)if(!e[t])return!1;return!0},e.prototype.isUrl=function(e){var t=0==e.raw.indexOf("/")||0==e.raw.indexOf("http");return t},e}();e.SentanceClassifier=h}(r||(r={})),e.exports=r},function(e,t){t.__esModule=!0;var r;!function(e){var t=/([&=\.\]\[\/\#])/g,r=/\\([&=\.\]\[\/\#\\/])/g;function n(e){return e.replace(t,"\\$1")}e.escape=n;function i(e){return e.replace(r,"$1")}e.unescape=i}(r=t.XpathEscaper||(t.XpathEscaper={}))}])});

"undefined"!=typeof _walkmeInternals&&_walkmeInternals.wmloader&&_walkmeInternals.wmloader.define("wm-plugin-accessibility@2.7.1@prelib",{name:"wm-plugin-accessibility",version:"2.7.1",toolbelt:"1.3.1",packageDate:"2023-03-13T09:38:35.272Z",entry:"prelib"},function(e){var t;return function(){var e={5969:function(e,t,n){e.exports=n(9589)},2066:function(e,t,n){var i=n(3835).Iy,r=n(8012);function a(){var e=this;e.run=s;var t,n,a;function o(){t=i().get("EventsListener"),n=i().get("PrelibLogger"),a=i().get("EventHandlerBindingManager")}function s(){return r.overrideAddTabIndexIfNeeded(),t.once("BeforeWalkmeReady",l),t.once("removeWalkMe",a.unbindAll),null}function l(){i().get("WmAccessibilityInitializer").init()}o()}t.y=a},2635:function(e,t,n){var i=n(3835).Iy;i().register("AccessibilityConsts").asCtor(r).dependencies("Consts");function r(e){var t=this,n=e.EVENTS,i=n.SmartTips,r=n.Launchers,a=n.Surveys,o=n.Walkthrus;t.KEY_CODES={TAB:9,ENTER:13},t.ELEMENTS_SELECTORS={SMART_TIP:{tooltip:".walkme-tooltip-outer-div"},BALLOON:{stepCounter:".walkme-custom-balloon-subtext"},SHOUTOUT:{container:".wm-shoutout"}},t.ELEMENT_TYPES_PREFIX={smartTipIcon:"walkme-icon-position-smartTip-id-",smartTipTooltip:"walkme-tooltip-smarttip-",survey:"walkme-survey-id-",shoutout:"wm-shoutout-",launcher:"walkme-launcher-id-"},t.FOCUSABLE_SELECTORS={SURVEY:{QUESTION_NUMBER:".walkme-survey-question-count",BUTTON:".walkme-custom-balloon-button",CLOSE_LINK:".walkme-custom-balloon-close-button"}},t.PARTIAL_SELECTORS={SURVEY:{TITLE:"walkme-survey-title",QUESTION:"walkme-survey-question",QUESTION_TITLE:"walkme-survey-question-title",QUESTION_SUB_TITLE:"walkme-survey-question-sub-title",QUESTION_ANSWERS:"walkme-survey-answer"}},t.EVENTS={SURVEY:{SurveyBalloonDisplayed:a.SurveyBalloonDisplayed,SurveyQuestionCountSet:a.SurveyQuestionCountSet,SurveyClosed:a.SurveyClosed,RatingCommentGenerated:a.RatingCommentGenerated},MENU:{MenuBuilt:n.WidgetMenu.MenuBuilt,AfterMenuClose:"AfterMenuClose",MenuCloseButtonClick:"MenuCloseButtonClick"},BALLOON:{BeforeBalloonRedraw:o.BeforeBalloonRedraw,BalloonShown:n.BalloonShown,DestroyStepBalloon:o.DestroyStepBalloon,BalloonCreated:n.BalloonCreated,BalloonStartShow:n.BalloonStartShow,FirstStepNotAvailable:n.FirstStepNotAvailable,FirstStepNotAvailableBalloonClosed:n.FirstStepNotAvailableBalloonClosed},WALKTHRU:{NewStepShown:o.StepShown},FLOW:{UIFlowStageShown:n.Flows.UIFlowStageShown},RESOURCE:{LightBoxDivCreated:n.LightBoxDivCreated,LightBoxDivCentered:n.LightBoxDivCentered,ContentRemoved:n.ContentRemoved,ActivatingContent:n.Contents.ActivatingContent},SHOUTOUT:{ShoutoutDisplayed:"show-end",ShoutOutClosed:n.ShoutOutClosed},LAUNCHER:{LauncherIsShown:r.LauncherIsShown,DisplayLauncher:r.DisplayLauncher,HideLauncher:r.HideLauncher,LauncherDestroyed:"LauncherDestroyed"},SMART_TIP:{SmartTipElementShown:i.SmartTipElementShown,SmartTipElementRemoved:i.SmartTipElementRemoved,SmartTipIconShown:i.SmartTipIconShown,SmartTipIconDestroyed:i.SmartTipIconDestroyed,SmartTipTooltipShown:i.TooltipShown,SmartTipTooltipDestroyed:i.SmartTipTooltipDestroyed},SHUTTLE:{ActivatingShuttle:n.Shuttles.ActivatingShuttle},LIVE_CHAT:{LiveChatClicked:n.LiveChat.LiveChatClicked}},t.FEATURES={DisableSmartTipsAccessibility:"disableSmartTipsAccessibility",RaiseFocusEvent:"raiseFocusEvent",AutoFocusRing:"autoFocusRing"},t.DEFAULT_TEXT_KEY={Close:"Close",ShoutOut:"ShoutOut",StepBalloon:"StepBalloon",QuestionInfoText:"QuestionInfoText",LastInputValid:"LastInputValid",EndOfPage:"EndOfPage",BeginningOfPage:"BeginningOfPage",GuidanceAvailable:"GuidanceAvailable",PreviousFieldInvalid:"PreviousFieldInvalid",PreviousFieldValid:"PreviousFieldValid",WalkMeThroughLauncher:"WalkMeThroughLauncher",ShowMeHowLauncher:"ShowMeHowLauncher",InfoLauncher:"InfoLauncher",VLauncher:"VLauncher",QuestionLauncher:"QuestionLauncher",ErrorLauncher:"ErrorLauncher",ArrowLauncher:"ArrowLauncher",MandatoryNoneLauncher:"MandatoryNoneLauncher",MandatoryActionLauncher:"MandatoryActionLauncher",RoundQuestionMarkLauncher:"RoundQuestionMarkLauncher",OpenInNewTab:"OpenInNewTab",UntitledIframe:"UntitledIframe"},t.TEXTS={Close:"close",ShoutOut:"Popup",StepBalloon:"Guidance balloon",QuestionInfoText:"Question {0} of {1}",LastInputValid:"Your last input is valid",EndOfPage:"end of page",BeginningOfPage:"beginning of page",GuidanceAvailable:"Guidance available for this field, click tab to explore",PreviousFieldInvalid:"Please return to field to resolve",PreviousFieldValid:"Previous field is valid",WalkMeThroughLauncher:"Walk Me Through",ShowMeHowLauncher:"Show Me How",InfoLauncher:"Info",VLauncher:"Check",QuestionLauncher:"Help",ErrorLauncher:"Warning",ArrowLauncher:"Go",MandatoryNoneLauncher:"Mandatory",MandatoryActionLauncher:"More details available",RoundQuestionMarkLauncher:"Help",OpenInNewTab:"open in new tab",UntitledIframe:"untitled"},t.SETTINGS_TRANSLATIONS_TEXTS_KEYS={Close:"close"},t.DEPLOYABLE_TYPES={WT:"WT",SWT:"SWT",resource:"resource",shoutout:"shoutout",survey:"survey",menu:"menu",launcher:"launcher",smartTipIcon:"smartTipIcon",smartTipTooltip:"smartTipTooltip"},t.DIRECTIONS={back:-1,next:1},t.DUMMY_ELEMENT_ID_PREFIX="wm-dummy-index-element-",t.FOCUS_TRACKING_ELEMENTS_TYPES={step:"step",popup:"popup",resource:"resource",shoutout:"shoutout",survey:"survey",menu:"menu"}}},395:function(e,t,n){var i=n(3835).Iy;i().register("FocusEventDispatcher").asCtor(r).dependencies("FeaturesManager, AccessibilityConsts");function r(e,t){var n=this;n.dispatch=i;function i(n){if(e.isFeatureEnabled(t.FEATURES.RaiseFocusEvent)&&FocusEvent)try{var i=new FocusEvent("focus",{relatedElement:n});n.dispatchEvent(i)}catch(r){}}}},4228:function(e,t,n){var i=n(3835).Iy;i().register("EventHandlerBindingManager").asCtor(r).dependencies("EventsListener");function r(e){var t=this;t.bind=r,t.unbindAll=l,t.unbindSpecificByElement=c,t.unbindSpecificByElementSelector=u;var n;function i(){n={}}function r(t,n,i){i?a(i,t,n):e.on(t,n)}function a(e,t,i){var r=n[t];if(r)for(var a=0;a<r.length;a++){var l=r[a];if(o(l,e,i))return}s(e,t,i),e.on(t,i)}function o(e,t,n){return e.element.is(t)&&e.handler===n}function s(e,t,i){n[t]||(n[t]=[]),n[t].push({element:e,handler:i})}function l(){for(var e in n)for(var t=n[e],i=0;i<t.length;i++){var r=t[i];r.element.off(e,r.handler)}n={}}function u(e,t,n){d(e,t,n)}function c(e,t,n){d(e,t,n)}function d(e,t,i){var r,a=n[t];if(!a)return;for(var s=0;s<a.length;s++){var l=a[s];if(o(l,e,i)){r=s;break}}if(void 0===r)return;var l=a[r];l.element.off(t,l.handler),a.splice(r,1)}i()}},7814:function(e,t,n){var i=n(3835).Iy;i().register("DummyTabOrganizer").asCtor(r).dependencies("DefaultTextGetter, Positions, EventHandlerBindingManager, AccessibilityUtils, AccessibilityConsts, HostData, wmjQuery,ElementEmbedderFactory, Consts, DomManager");function r(e,t,n,i,r,a,o,s,l,u){var c=this;c.createDummyElement=v,c.showDummy=g,c.hideDummy=S,c.removeDummy=I,c.focusNearDummy=A,c.isDummyTabOrganizer=C;var d,f=r.DUMMY_ELEMENT_ID_PREFIX;function m(){d=a.isIEBrowser()}function v(e,t,i,r,a){var u=E(e,t),c=o("#"+u);c.length||(c=T(u)),c.css("display",a?a:"block");var f=s.get(r,!0,!0);return f.embed(c,l.POSITION_PERIMETER_TYPE.Inside,i,void 0,{isInvisible:!0}).then(function(){var e=f.getElement();return c=e.getOriginElement(),n.bind("focus",p,c),d&&n.bind("focusout",h,c),c})}function T(e){return u.parseElementAsJquery('<div id="'+e+'" class="walkme-to-destroy" tabindex="0" style="width: 1px;position: absolute;left: -10000px;"></div>')}function E(e,t){return f+e+"-"+t}function y(e,t){return"#"+E(e,t)}function p(e){var t=o(this);if(d&&n.unbindSpecificByElement(t,"focus",p),e.useOriginalFocus)return;var i=t.attr("id"),r=i.substring(f.length);if(!r)return;var a=r.split("-"),s=a[0],l=a[1],u=o("."+b(s)+l),c=u.is(":focusable")?u:o(u.find(":tabbable")[0]);if(!c.length)return;c.focus(),e.preventDefault(),e.stopPropagation()}function b(e){return r.ELEMENT_TYPES_PREFIX[e]}function h(){n.bind("focus",p,o(this))}function g(e,t){w(e,t,"show")}function S(e,t){w(e,t,"hide")}function I(e,t){var i=y(e,t);n.unbindSpecificByElementSelector(i,"focus",p),d&&n.unbindSpecificByElementSelector(i,"focusout",h),w(e,t,"remove")}function w(e,t,n){var i=o(y(e,t));i[n]()}function A(t,n,a,s){var l=o(y(t,n)),u=s.index(l),c=u+a,d=c===-1||c===s.length;d&&(c=u,i.announce(e.getValue(0===c?r.DEFAULT_TEXT_KEY.BeginningOfPage:r.DEFAULT_TEXT_KEY.EndOfPage)));var f=s[c],m=o.Event("focus",{useOriginalFocus:d});o(f).trigger(m)}function C(e,t,n){return e.is(y(t,n))}m()}},7160:function(e,t,n){var i=n(3835).Iy;i().register("FocusTracker").asCtor(r).dependencies("ElementsGetter, AccessibilityConsts, EventsListener, WmAccessibilityCommonUtils, wmjQuery, AccessibilityLogger,SiteConfigManager");function r(e,t,n,i,r,a,o){var s=this;s.addToStack=d,s.addToBottomOfStack=f,s.focus=m;var l=[],u=t.FOCUS_TRACKING_ELEMENTS_TYPES,c=[u.step,u.popup,u.survey];function d(e,t){var n=l[l.length-1];if(n&&r.inArray(n.originType,c)!==-1)if(t===u.step)l.pop();else if(t===u.popup||t===u.survey)return;a.write("Add focus tracking for originType "+t),l.push({element:e,originType:t})}function f(e,t,n){E()||(l[0].element=n),a.write("Add focus tracking at bottom of stack for originType "+t),l.unshift({element:e,originType:t})}function m(){for(a.write("Start search for element to focus to");!E();){var e=l.pop(),t=r(e.element);if(i.isElementOnScreen(t)){var o=t;if(!t.is(":focusable")){if(a.write("Element to focus to not focusable"),t.is("#walkme-player")){a.write("Element to focus to is widget player"),n.once("PlayerShow",function(){T(t,e.originType)});break}if(t.is("body")){if(a.write("Element to focus to is body"),!E()){a.write("Body is not the last element to focus to in stack");continue}o=v()}else{a.write("Check if element to focus to has focusable children");var s=t.find(":focusable");o=s.length?r(s[0]):v()}}T(o,e.originType);break}a.write("Element to focus to not on screen")}}function v(){a.write("Find first tabbable element to focus to");var t=o.get().Custom.defaultFirstElementForFocus;if(t)for(var n=0;n<t.length;n++){var i=r(t[n])[0];if(i)return i}var s=e.getAllTabbablesOnPageOrdered();return r(s[0])}function T(e,t){t===u.step&&(l=[]),a.write("Element to focus to found for originType "+t),e&&e.focus()}function E(){return 0===l.length}}},7925:function(e,t,n){var i=n(3835).Iy;i().register("BallonCreatedAccessibilityHandler").asCtor(r).dependencies("WmAccessibilityCommonUtils, CommonUtils, Lib, FeaturesManager, StepDataGetter,AriaAttributesSetter, DialogTextSetter, DialogTabbaleElementsPreparer, DesignTemplatePlaceholdersRolesSetter,DefaultTextGetter, ElementsHidingManager, AccessibilityConsts, FocusTracker, ElementsGetter, EventsListener, FocusEventDispatcher, wmjQuery, DomManager");function r(e,t,n,i,r,a,o,s,l,u,c,d,f,m,v,T,E,y){var p=this;p.init=M;var b,h,g,S,I=d.KEY_CODES.TAB,w=!1,A=!0,C={},k=!1,L=!1,O=!1,F="walkme-custom-balloon-title",_="walkme-custom-balloon-content",B="wt-cannot-be-played",N=".walkme-custom-powered-by",D={ACTION_BUTTON:".walkme-custom-balloon-button",CLOSE_LINK:".walkme-custom-balloon-close-button"},P=d.FOCUS_TRACKING_ELEMENTS_TYPES,x=d.ELEMENTS_SELECTORS,U="walkme-custom-balloon-outer-div";function M(e,t){var n=d.EVENTS,r=n.BALLOON;S=i.isFeatureEnabled("noFocusGrabOnRedraw"),S&&(_walkmeInternals.bind(r.BeforeBalloonRedraw,H),_walkmeInternals.bind(r.BalloonShown,Y)),_walkmeInternals.bind(r.BalloonCreated,K),_walkmeInternals.bind(r.BalloonStartShow,j),_walkmeInternals.bind(n.WALKTHRU.NewStepShown,R),_walkmeInternals.bind(n.FLOW.UIFlowStageShown,Q),_walkmeInternals.bind(r.FirstStepNotAvailable,V),_walkmeInternals.bind(r.FirstStepNotAvailableBalloonClosed,f.focus),b=e,h=t,k=i.isFeatureEnabled("noAccessibleCapture"),O=i.isFeatureEnabled("skipPoweredByLink")}function R(e,t){W(t.Id)}function Q(e,t){W(t.uiElementId)}function H(e){A=document.activeElement.className.indexOf("walkme")>=0}function Y(e){A=!0}function W(t){if(void 0!=t&&C[t]){var n=C[t],i=n.elementForFocus,r=n.focusTrackingDetails;e.isElementOnScreen(x.SHOUTOUT.container)?f.addToBottomOfStack(r.elementToKeep,r.balloonType,i):(i.focus(),f.addToStack(r.elementToKeep,r.balloonType))}}function V(){W(B)}function j(e,t){var n=r.getActiveStepData();if(t&&n&&n.id){var i=n.id;g&&g!=i&&(C[g]=void 0),g=i;var a=C[i];!a||a.elementForFocus.focus()}}function K(t,n){var i=n.Element,a=r.getActiveStepData();if(a){var o=q(a)||n.PageElement,s=a.isPopup,u=z(i,b.step||"dialog",h.step,a.ariaLabel,o,s,a.id,a.isFocusLockEnabled);if(a.spotlight&&G(s,o,u,a),a.isFocusGrabEnabled&&(S?A&&(A=!1,G(s,o,u,a)):G(s,o,u,a)),s&&e.shouldAddAriaHidden(a.spotlight,a.deployableType,a.id)){var f=i.attr("id");c.hideAllButPopup(i,f,d.EVENTS.BALLOON.DestroyStepBalloon)}e.addTitlesToFrames(i),l.setDefaultRoleForActionPlaceholders(i)}else{var m=E(".walkme-custom-first-step-not-available-text",i);m.length&&X(m,i)}}function G(e,t,n,i){C[i.id]={elementForFocus:n,focusTrackingDetails:te(e,t)}}function q(e){return!k&&e.identifySettings&&!e.identifySettings.isDefault&&(e.identifySettings.IsJquerySelector&&e.identifySettings.JquerySelector||e.identifySettings.ElementDescription&&Object.keys(e.identifySettings.ElementDescription))&&n.findElement(e.identifySettings)}function X(n,i){var r={};E.each(n[0].attributes,function(e,t){r[t.nodeName]=t.nodeValue});var o=r.style;delete r.style,n.replaceWith(function(){var e=E("<div></div>",r).append(E(this).contents());return e.attr("id",B),y.setAttribute(e,"style",o),e}),a.setAriaLabelledBy(i,B),t.setRole(i,b.step||"dialog");var l=s.prepareTabbableElements(i,D,!0);e.handleFocusElements(i,l,D.ACTION_BUTTON,!0,void 0);var u=!0;C[B]={elementForFocus:l[0],focusTrackingDetails:te(u)}}function z(n,r,l,c,f,m,v,T){for(var y,p=0;p<n.length;p++){var b=E(n[p]);b.hasClass(U)&&(y=b)}if(y){re(y,D.CLOSE_LINK),ae(y);var h=s.prepareTabbableElements(y,D,!0);i.isFeatureEnabled("addTabbableTextAccessibility")&&(D.BALLOON_TITLE=".walkme-custom-balloon-title",D.BALLOON_CONTENT=".walkme-custom-balloon-content"),h.length||(h=y);var g=(i.isFeatureEnabled("balloonsTabInOrder")||T)&&!m&&f&&ie(f,h);return L=T,e.handleFocusElements(y,h,D.CLOSE_LINK,T,g?f:void 0),t.setRole(y,r),a.setAriaLabel(y,c||l||u.getValue(d.DEFAULT_TEXT_KEY.StepBalloon)),o.setText(y,v,c?void 0:F,_),y.attr("tabindex",0),ne(y,v),ee(h)}}function J(e,t){return(""+t.className).indexOf(e)>-1}function Z(e){return J("walkme-action-cancel",e)||J("walkme-action-back",e)}function $(e){return J("walkme-action-start",e)||J("walkme-action-next",e)||J("walkme-action-done",e)}function ee(e){var t=e[0];if(i.isFeatureEnabled("focusFirstOnNextAction")&&Z(t))for(var n=1;n<e.length;n++)if($(e[n]))return e[n];return t}function te(e,t){var n={};return e?(n.elementToKeep=m.findLastFocusedElement(),n.balloonType=P.popup):(n.elementToKeep=t,n.balloonType=P.step),n}function ne(e,t){var n="wt-step-counter-"+t,i=E(x.BALLOON.stepCounter,e);i.length&&(i.attr("id",n),a.appendAriaDescribedBy(e,n))}function ie(t,n){var i=E(n[n.length-1]),r=E(n[0]),a=e.getFocusablesInsideElement(t),o=0!=a.length;return o&&oe(a,i,r),o}function re(n,r){i.isFeatureEnabled("focusXButtonFirst")||e.moveElementToEnd(n,r);var a=E(r,n);t.setRole(a,"button"),e.setXButtonLabel(a)}function ae(t){var n=E(N,t);e.addTabIndex(n,O?-1:0)}function oe(t,n,i){E("body").keydown(r),i.on("keydown",o),n.on("keydown",s),v.on("destroyStepBalloon",l),w=!1;function r(t){var n=m.getAllTabbablesOnPageOrdered();if(t.which===I){if(t.target.id.indexOf("walkme-player")>=0&&t.shiftKey){var i=e.findElementAboveBalloon(n);se(i,t)}var r=n[e.getKeyByValue(n,t.target)+1];e.isWMBalloon(t.target)||!e.isWMBalloon(r)||t.shiftKey||(e.findWidgetinElementList(n)?se(e.findWidgetinElementList(n),t):se(n[0],t),w=!1),e.isWMElement(t.target)||a(t,n)}}function a(r,a){var o=E(document.activeElement),s=t.index(o),l=1===t.length?t[0]:t.last()[0],u=a[e.getKeyByValue(a,l)+1]==o[0];if(t==o||s!==-1||u){var c,d=L||!w;if(s===t.length-1&&!r.shiftKey&&d)c=i;else if(r.shiftKey){var f=e.findElementInList(C);f=void 0!==f?f.focusTrackingDetails.elementToKeep[0]:t,t.length>1&&f.contains(r.target)&&(d=!1),d&&(c=n)}c&&se(c,r),w=!1}}function o(n){var i=m.getAllTabbablesOnPageOrdered(),r=e.findCorrectElementToTabTo(i,t,C);n.which===I&&n.shiftKey&&(se(r,n),w=!0)}function s(n){var i=m.getAllTabbablesOnPageOrdered(),r=e.findCorrectElementToTabTo(i,t,C),a=e.findCorrectElementToTabTo(i,t,C,1);n.which!==I||n.shiftKey||(se(L?r:a,n),w=!0)}function l(e,t){var a=t.balloonDiv;if(!a.is(".walkme-custom-simple-step"))return;E("body").off("keydown",r),i.off("keydown",o),n.off("keydown",s),v.off("destroyStepBalloon",l)}}function se(e,t){e.focus(),T.dispatch(e[0]),t.preventDefault(),t.stopPropagation()}}},5674:function(e,t,n){var i=n(3835).Iy;i().register("BBCodeAccessibilityHandler").asCtor(r).dependencies("AccessibilityConsts");function r(e){var t,n=this;n.init=function(e){i(),t=e};function i(){_walkmeInternals.bind("RegisterBBCodeDeployableClick",r)}function r(e,t){var n=t.element;a(n),o(n)}function a(t){t.keydown(function(n){n.keyCode===e.KEY_CODES.ENTER&&(t.click(),n.preventDefault())})}function o(e){var t=e[0].nodeName.toLowerCase();if(/a/.test(t)){var n=e.attr("tabindex");void 0!=n&&null!=n||e.attr("tabindex",0)}}}},4082:function(e,t,n){var i=n(3835).Iy;i().register("BizFlowAccessibilityHandler").asCtor(r).dependencies("FocusTracker,Consts");function r(e,t){var n=this;n.init=a;var i,r;function a(e,t){o(),i=e,r=t}function o(){_walkmeInternals.bind("FlowCompleted",s),_walkmeInternals.bind("FlowStopped",s)}function s(t,n){l(n)||e.focus()}function l(e){return e.flowInstanceParams&&e.flowInstanceParams.type===t.BACKGROUND_SWT_INSTANCE_PARAMS.type}}},1559:function(e,t,n){var i=n(3835).Iy;i().register("LauncherAccessibilityHandler").asCtor(r).dependencies("CommonUtils, LauncherDefaultIcon, LauncherTextSetter, LauncherTabOrderHandler, AccessibilityConsts, ElementInIframeIndicator, FeaturesManager, Consts");function r(e,t,n,i,r,a,o,s){var l=this;l.init=c;var u;function c(e){d(),u=e}function d(){_walkmeInternals.bind(r.EVENTS.LAUNCHER.LauncherIsShown,f),i.bindEvents()}function f(e,r,o){var s=o.launcherDiv,l=o.launcherData,u=l.Settings.action.actionType,c=l.Settings.imageObject||t;m(s,u),n.setText(s,u,c);var d=a.isInIframe(o.element)?i.handleElementFocusByDom:i.handleElementFocusByTabOrder;d(l.Id,l.Position,o.element,s)}function m(t,n){var i="none"==n?"img":"button";e.setRole(t,u.launcher||i);var r=o.isFeatureEnabled(s.FEATURES.NoNonePresentation)?"presentation":"none presentation";t.find("*").attr("role",r)}}},6495:function(e,t,n){var i=n(3835).Iy;i().register("LauncherTabOrderHandler").asCtor(r).dependencies("EventHandlerBindingManager, AccessibilityConsts, IdGetter, WmAccessibilityCommonUtils, DummyTabOrganizer, wmjQuery, ElementsGetter");function r(e,t,n,i,r,a,o){var s=this;s.bindEvents=m,s.handleElementFocusByTabOrder=v,s.handleElementFocusByDom=T;var l=t.KEY_CODES.TAB,u=t.ELEMENT_TYPES_PREFIX.launcher,c=t.EVENTS.LAUNCHER,d=t.DEPLOYABLE_TYPES.launcher,f=t.DIRECTIONS;function m(){_walkmeInternals.bind(c.DisplayLauncher,p),_walkmeInternals.bind(c.HideLauncher,b),_walkmeInternals.bind(c.LauncherDestroyed,h)}function v(t,n,i,a){E(a,-1),r.createDummyElement(d,t,n,i,a.css("display")),e.bind("keydown",y,a)}function T(e,t,n,i){E(i,0)}function E(e,t){var n=e.parent(".walkme-launcher-container");n.removeAttr("tabindex"),n.off("keydown"),i.addTabIndex(e,t)}function y(e){var t;if(e.which===l&&(t=e.shiftKey?f.back:f.next),!t)return;var i=n.getIdByElement(a(this),u);r.focusNearDummy(d,i,t,o.getAllTabbablesOnPageOrdered()),e.preventDefault(),e.stopPropagation()}function p(e,t){r.showDummy(d,t.launcher.Id)}function b(e,t){r.hideDummy(d,t.launcher.Id)}function h(t,n){var i=n.launcher.Id;e.unbindSpecificByElementSelector("."+u+i,"keydown",y),r.removeDummy(d,i)}}},499:function(e,t,n){var i=n(3835).Iy;i().register("LauncherTextSetter").asCtor(r).dependencies("WmAccessibilityCommonUtils, DefaultTextGetter, AccessibilityConsts");function r(e,t,n){var i=this;i.setText=o;var r=n.DEFAULT_TEXT_KEY,a={"walk-me-through":r.WalkMeThroughLauncher,"show-me-how":r.ShowMeHowLauncher,info:r.InfoLauncher,v:r.VLauncher,question:r.QuestionLauncher,error:r.ErrorLauncher,arrow:r.ArrowLauncher,"mandatory-none":r.MandatoryNoneLauncher,"mandatory-action":r.MandatoryActionLauncher,"round-question-mark":r.RoundQuestionMarkLauncher,california:r.WalkMeThroughLauncher};function o(t,n,i){var r="";switch(i.type){case"shape":var a=i.data.shape;r=s(a,n);break;case"customText":r=i.data.customText;break;case"custom":r=i.data.alt}r=r?r:"Untitled",r=r.replace(/&#39;/g,"'"),r=r.replace(/amp;/g,""),"none"==n&&t.attr("alt",r),e.elementWrapper(t,r),l(t)}function s(e,n){return"mandatory"==e&&(e+="none"==n?"-none":"-action"),t.getValue(a[e])}function l(e){var t=e.parent(".walkme-launcher-container"),n=t.attr("title");if(!n)return;t.removeAttr("title"),e.attr("title",n)}}},9196:function(e,t,n){var i=n(3835).Iy;i().register("LiveChatAccessibilityHandler").asCtor(r).dependencies("FocusTracker, AccessibilityConsts, CommonUtils");function r(e,t,n){var i=this;i.init=r;function r(){a()}function a(){_walkmeInternals.bind(t.EVENTS.LIVE_CHAT.LiveChatClicked,o)}function o(t,i){var r=i.options;n.isValueTrue(r.closeWalkmeOnChatOpen)&&n.isValueTrue(r.openNewWindow)&&e.focus()}}},6202:function(e,t,n){var i=n(3835).Iy;i().register("MenuAccessibilityHandler").asCtor(r).dependencies("CommonUtils, WmAccessibilityCommonUtils, SiteConfigManager, ElementsHidingManager, AccessibilityConsts, FocusTracker, ElementsGetter");function r(e,t,n,i,r,a,o){var s=this;s.init=u;var l=r.EVENTS.MENU;function u(){c()}function c(){_walkmeInternals.bind(l.MenuBuilt,d),_walkmeInternals.bind(l.MenuCloseButtonClick,a.focus)}function d(e,s){var u=s[0];a.addToStack(o.findLastFocusedElement(),r.FOCUS_TRACKING_ELEMENTS_TYPES.menu);var c="Splash"===n.get().MenuDisplay;t.shouldAddAriaHidden(c,r.DEPLOYABLE_TYPES.menu)&&i.hideAllButPopup(u,"walkme-menu",l.AfterMenuClose)}}},2243:function(e,t,n){var i=n(3835).Iy;i().register("ResourceAccessibilityHandler").asCtor(r).dependencies("WmAccessibilityCommonUtils, CommonUtils, AriaAttributesSetter, DialogTabbaleElementsPreparer, DefaultTextGetter, ElementsHidingManager, AccessibilityConsts, FocusTracker, ElementsGetter, Consts");function r(e,t,n,i,r,a,o,s,l,u){var c=this;c.init=b;var d,f,m=o.EVENTS.RESOURCE,v="walkme-open-in-new-tab-button",T="walkme-light-box-x-button",E="walkme-content-light-box",y=o.DEFAULT_TEXT_KEY,p={IFRAME:"iframe",NEW_TAB:"#"+v,CLOSE_LINK:"#"+T};function b(e,t){h(),d=e,f=t}function h(){_walkmeInternals.bind(m.LightBoxDivCreated,g),_walkmeInternals.bind(m.LightBoxDivCentered,S),_walkmeInternals.bind(m.ContentRemoved,s.focus),_walkmeInternals.bind(m.ActivatingContent,w)}function g(u,c){var b=c.lightBoxDiv,h=c.content;s.addToStack(l.findLastFocusedElement(),o.FOCUS_TRACKING_ELEMENTS_TYPES.resource),e.moveElementToEnd(b,p.NEW_TAB),e.moveElementToEnd(b,p.CLOSE_LINK);var g=i.prepareTabbableElements(b,p,!1,!0);e.handleFocusElements(b,g,p.CLOSE_LINK,!0),t.setRole(b,d.resource||"dialog"),n.setAriaLabel(b,f.resource||h.Name),I(b,p.CLOSE_LINK,T+"-img",r.getValue(y.Close)),I(b,p.NEW_TAB,v+"-img",r.getValue(y.OpenInNewTab));var S=wmjQuery("iframe",b);S.attr("title",h.Name),e.shouldAddAriaHidden(!0)&&a.hideAllButPopup(b,E,m.ContentRemoved)}function S(e,t){var n=t.lightBoxDiv;n.focus()}function I(e,i,r,a){var o=wmjQuery(i+" > img",e);o.attr("id",r),o.attr("alt",a);var s=wmjQuery(i,e);t.setRole(s,"button"),n.setAriaLabelledBy(s,r),s.removeAttr("title")}function w(e,t){var n=t.content;n.Settings.ContentPlayMode==u.PLAY_MODE.NewTab&&s.focus()}}},3004:function(e,t,n){var i=n(3835).Iy;i().register("ShoutoutAccessibilityHandler").asCtor(r).dependencies("WmAccessibilityCommonUtils, CommonUtils, AriaAttributesSetter, DialogTextSetter, DialogTabbaleElementsPreparer, DesignTemplatePlaceholdersRolesSetter, DefaultTextGetter, ElementsHidingManager, AccessibilityConsts, wmjQuery, FocusTracker, Consts, ElementsGetter, FeaturesManager");function r(e,t,n,i,r,a,o,s,l,u,c,d,f,m){var v=this;v.init=C;var T,E,y=l.DEPLOYABLE_TYPES.shoutout,p=l.EVENTS.SHOUTOUT,b="wm-title",h="wm-template-text",g="wm-shoutout-",S=1,I=["none","destroy"],w=d.SHOUTOUT_CLICK_TYPE,A={ACTION_BUTTON:".wm-blue-btn",CLOSE_LINK:".wm-close-link",CLOSE_BUTTON:".wm-close-button"};function C(e,t){k(),T=e,E=t}function k(){_walkmeInternals.bind(p.ShoutoutDisplayed,L),_walkmeInternals.bind(p.ShoutOutClosed,_)}function L(t,n){if(n&&n._uiComponent&&n._uiComponent.UiComponentId==S){var i=n._uiComponent.Id,r=u("#"+g+i);c.addToStack(f.findLastFocusedElement(),l.FOCUS_TRACKING_ELEMENTS_TYPES.shoutout);var o=u(A.ACTION_BUTTON,r);O(o);var s=u(A.CLOSE_LINK,r);O(s);var d=u(A.CLOSE_BUTTON,r);O(d),e.setXButtonLabel(d);var m=d.length?A.CLOSE_BUTTON:A.CLOSE_LINK;e.addTitlesToFrames(r),a.setDefaultRoleForActionPlaceholders(r),F(n,i,r,m)}}function O(e){t.setRole(e,"button")}function F(a,u,c,d){m.isFeatureEnabled("focusXButtonFirst")||e.moveElementToEnd(c,A.CLOSE_BUTTON);var f=r.prepareTabbableElements(c,A,!0),v=!!a._settings.overlay,S=e.shouldDisableFocusLock(y,u);e.handleFocusElements(c,f,d,v||!S),f[0].focus(),t.setRole(c,T.shoutOut||"dialog"),n.setAriaLabel(c,E.shoutOut||o.getValue(l.DEFAULT_TEXT_KEY.ShoutOut)),i.setText(c,u,b,h),e.shouldAddAriaHidden(v,y,u)&&s.hideAllButPopup(c,g+u,p.ShoutOutClosed)}function _(e,t){var n=t.clickType;(n===w.XButton||n===w.RemindMeLater||(n===w.Close||n===w.Action)&&B(t.action))&&c.focus()}function B(e){return e&&u.inArray(e.Type,I)!==-1}}},952:function(e,t,n){var i=n(3835).Iy;i().register("ShoutoutVisualDesignAccessibilityHandler").asCtor(r).dependencies("AccessibilityConsts, FocusTracker, ElementsGetter, WmAccessibilityCommonUtils, Consts, EventsListener, FeaturesManager, WmAccessibilityCss");function r(e,t,n,i,r,a,o,s){var l=this;l.init=T;var u=e.EVENTS.SHOUTOUT,c=e.DEPLOYABLE_TYPES.shoutout,d=r.SHOUTOUT_CLICK_TYPE,f=["none","destroy"],m=1,v="walkme-visual-design-";function T(){E()}function E(){a.on(u.ShoutoutDisplayed,y),a.on(u.ShoutOutClosed,b)}function y(i,r){var a=r&&r.getComponent&&r.getComponent();if(a.UiComponentId===m&&a.VisualDesign){t.addToStack(n.findLastFocusedElement(),e.FOCUS_TRACKING_ELEMENTS_TYPES.shoutout);var o=wmjQuery("#"+v+a.VisualDesign.Id),l=o[0]&&o[0].shadowRoot;if(l){o=wmjQuery(l.firstElementChild);var u=document.createElement("style");u.innerHTML=s.getCss(),l.prepend(u)}p(a,a.Id,o)}}function p(e,t,n){if(o.isFeatureEnabled("focusXButtonFirst")){var r=n.find('[aria-label="close"]');i.moveElementToStart(n,r)}var a=i.getFocusablesInsideElement(n,!0,!0);a.length||(a=n);var s=!!e.VisualDesign.Style.backcover,l=s||!i.shouldDisableFocusLock(c,t);i.handleFocusElements(n,a,"",l),a[0].focus()}function b(e,n){var i=n.clickType;(i===d.XButton||i===d.RemindMeLater||(i===d.Close||i===d.Action)&&h(n.action))&&t.focus()}function h(e){return e&&wmjQuery.inArray(e.type,f)!==-1}}},2614:function(e,t,n){var i=n(3835).Iy;i().register("ShuttleAccessibilityHandler").asCtor(r).dependencies("FocusTracker, AccessibilityConsts, CommonUtils, Consts");function r(e,t,n,i){var r=this;r.init=o;var a=i.PLAY_MODE;function o(){s()}function s(){_walkmeInternals.bind(t.EVENTS.SHUTTLE.ActivatingShuttle,l)}function l(t,i){var r=parseInt(n.getSettingsValue(i.shuttle.Settings,"ShuttlePlayMode",a.SameTab));r===a.NewTab&&e.focus()}}},3689:function(e,t,n){var i=n(3835).Iy;i().register("SmartTipElementsGetter").asCtor(r).dependencies("AccessibilityConsts, wmjQuery, IdGetter, SmartTipToElementMapper");function r(e,t,n,i){var r=this;r.findLastFocusedElement=o;var a=e.ELEMENT_TYPES_PREFIX;function o(r){var o=r.parents(e.ELEMENTS_SELECTORS.SMART_TIP.tooltip);if(0!==o.length){var s=n.getIdByElement(o,a.smartTipTooltip),l=t("."+a.smartTipIcon+s);return l.length?l:i.getElementBySmartTipId(s)}}}},2072:function(e,t,n){var i=n(3835).Iy;i().register("SmartTipFocusHandler").asCtor(r).dependencies("wmjQuery, WmAccessibilityCommonUtils, IdGetter, AccessibilityConsts, ElementsGetter, SmartTipIdentifier, FocusEventDispatcher, DummyTabOrganizer, SmartTipToElementMapper");function r(e,t,n,i,r,a,o,s,l){var u=this;u.moveFocus=E;var c=i.ELEMENT_TYPES_PREFIX,d=c.smartTipIcon,f=c.smartTipTooltip,m=i.ELEMENTS_SELECTORS.SMART_TIP.tooltip,v=i.DEPLOYABLE_TYPES,T=i.DIRECTIONS;function E(e,t){var i=r.getAllTabbablesOnPageOrdered();if(t.shiftKey)if(a.isSmartTipIconElement(e))y(v.smartTipIcon,e,T.back,i);else{var s=I(i,e,!0),l=e.parents(m),u=s.parents(m).length>0;0===l.length||u?(e.blur(),s.focus(),u||(o.dispatch(s[0]),p(t.target))):y(v.smartTipTooltip,l,T.back,i)}else{var c=b(e);if(c)h(c)||g(i,c);else{var f;if(e.attr("class")&&(f=n.getIdByElement(e,d)),f)g(i,f);else{var E,S=I(i,e),w=e.parents(m);w.length>0&&(E=k(i,S,w)),E||(S.focus(),0===S.parents(m).length&&o.dispatch(S[0]))}}}}function y(e,t,i,r){var a=n.getIdByElement(t,c[e]),u=l.getElementBySmartTipId(a);s.isDummyTabOrganizer(u,e,a)?s.focusNearDummy(e,a,i,r):(u.focus(),o.dispatch(u[0]))}function p(n){var i=l.getSmartTipDetailsByElement(n);if(i&&i.canHaveConditionalIcon){var r=e("."+d+i.smartTipId);r.length>0&&t.announce(r[0].getAttribute("aria-label")||"")}}function b(e){var t=l.getSmartTipDetailsByElement(e);return t&&t.smartTipId}function h(t){var n=e("."+d+t);if(n.length>0)return n.focus(),!0;return!1}function g(e,t){var n=l.getElementBySmartTipId(t);if(!n)return!1;var i=S(e,t);if(i)i.focus();else{var r=I(e,n);n.blur(),r.focus(),o.dispatch(r[0])}return!0}function S(t,n){var i=e("."+f+n);if(!i[0])return;var r=e(i.find(":tabbable")[0]);return r.length?r:void 0}function I(t,n,i){for(var r,a=t.index(n),o=i?C(a,t):A(a,t);!r;){var s=e(t[o]);w(n,s)?r=s:o=i?C(o,t):A(o,t)}return r}function w(e,t){if(a.isSmartTipIconElement(t))return!1;var n=t.parents(m)[0];if(!n)return!0;var i=e.parents(m)[0];return i==n}function A(t,n){if(t<n.length-1)return t+1;var i=e("#walkme-dummy-last-element");return e.inArray(i,n)}function C(e,t){return e>0?e-1:t.length-1}function k(e,t,i){var r=t.parents(m);if(0==r.length){var a=n.getIdByElement(i,f);return t=I(e,l.getElementBySmartTipId(a)),t.focus(),o.dispatch(t[0]),!0}return!1}}},838:function(e,t,n){var i=n(3835).Iy;i().register("SmartTipToElementMapper").asCtor(r);function r(){var e=this;e.addSmartTipDetails=i,e.getSmartTipDetailsByElement=r,e.addElementForSmartTipId=a,e.getElementBySmartTipId=o;var t=[],n={};function i(e,n,i){t.push({element:n,smartTipId:e,canHaveConditionalIcon:i})}function r(e){for(var n=0;n<t.length;n++)if(t[n].element.is(e))return t[n]}function a(e,t){n[e]=t}function o(e){return n[e]}}},5982:function(e,t,n){var i=n(3835).Iy;i().register("SmartTipAccessibilityHandler").asCtor(r).dependencies("WmAccessibilityCommonUtils, CommonUtils, wmjQuery, TimerManager, SmartTipFocusHandler, BBCodeParser, EventHandlerBindingManager, IdGetter, DummyLastElementAdder, AllowedTabbableElementFinder, Consts, FocusLockChecker, AccessibilityConsts, ElementsGetter, SmartTipExistenceChecker, FocusBehaviorSetter, AriaAttributesSetter, FeaturesManager, DefaultTextGetter, DummyTabOrganizer, ElementInIframeIndicator, SmartTipToElementMapper, DomManager");function r(e,t,n,i,r,a,o,s,l,u,c,d,f,m,v,T,E,y,p,b,h,g,S){var I,w,A=this,C=f.KEY_CODES.TAB,k=f.ELEMENT_TYPES_PREFIX,L=k.smartTipIcon,O=f.EVENTS.SMART_TIP,F=f.DEPLOYABLE_TYPES,_=F.smartTipIcon,B=F.smartTipTooltip,N=f.DEFAULT_TEXT_KEY;A.init=function(e){if(y.isFeatureEnabled(f.FEATURES.DisableSmartTipsAccessibility)||!v.doSmartTipsExist())return;D(),I=e,w=y.isFeatureEnabled("handleSmartTipsFocusLock")};function D(){_walkmeInternals.bind(O.SmartTipElementShown,R),_walkmeInternals.bind(O.SmartTipElementRemoved,Q),_walkmeInternals.bind(O.SmartTipIconShown,K),_walkmeInternals.bind(O.SmartTipIconDestroyed,q),_walkmeInternals.bind(O.SmartTipTooltipShown,J),_walkmeInternals.bind(O.SmartTipTooltipDestroyed,Z)}function P(e){if(e.which==C){if(!w&&d.isFocusLocked())return;var t=document.activeElement,a=m.getAllTabbablesOnPageOrdered();if(e.shiftKey){if(t==a[0])return}else if(U(t)){if(x(a))return;var o=n.inArray(t,a),s=o>-1?o:void 0,c=u.findNext(s,a);return l.reAdd(),c?(c.focus(),void e.preventDefault()):void n("#walkme-dummy-last-element").trigger("focus",{
isAlreadyFocused:!0})}M()&&!x(a)&&l.reAdd();var f=n(t);if(0==f.parents(".walkme-custom-balloon-outer-div, .wm-shoutout").length){i.setWalkmeTimeout(function(){r.moveFocus(f,e)},150);var v=g.getSmartTipDetailsByElement(t);if(v&&v.canHaveConditionalIcon){var T=n.Event("blur",{shouldPreventDefault:!0});f.trigger(T)}e.preventDefault()}}}function x(e){var t=e[e.length-1];return U(t)}function U(e){return e==n("#walkme-dummy-last-element")[0]}function M(){return n("#walkme-dummy-last-element").length}function R(e,t){var i=t.smartTip;if(!i)return;var r=t.element;if(h.isInIframe(r))return;var a=i.Id;H(i,r),g.addSmartTipDetails(a,r,!i.Info&&(i.Validations.length>0||i.PositiveFeedback));var s=m.getNonWalkmeTabbablesOrdered();if(r[0]!==s[s.length-1]||M()||(l.add(),o.bind("keydown",P,n("#walkme-dummy-last-element"))),r.is(":focusable"))g.addElementForSmartTipId(a,r),o.bind("keydown",P,r),$(r),Y(i,r);else{var u=i.Settings.Position,c=i.Info.IsWithIcon?_:B,d=n("."+k[c]+a).css("display");b.createDummyElement(c,a,u,r,d||"none").then(function(e){g.addElementForSmartTipId(a,e)})}}function Q(e,t){var n=t.smartTip,i=n.Id,r=g.getElementBySmartTipId(i);r&&o.unbindSpecificByElement(r,"keydown",P);var a=n.Info.IsWithIcon?_:B;b.removeDummy(a,i)}function H(e,t){for(var n=j(e),i=t&&t.length&&t[0].getAttribute("aria-describedby")||"",r=0;r<n.length;r++){var a="walkme-tooltip-"+n[r];i+=" "+a}i=i.replace(/^\s+|\s+$/g,""),i&&E.setAriaDescribedBy(t,i),!e.PositiveFeedback&&e.Validations.length>0&&o.bind("blur",V(e.Id),t)}function Y(t,n){if(t.Info){var i=t.Info.IsWithIcon?p.getValue(N.GuidanceAvailable):W(t.Info.TooltipText);o.bind("focus",function(){e.announce(i)},n)}}function W(e){return z(e)+". tooltip."}function V(t){return function(){(n(".walkme-custom-highlighter-smarttipid-"+t).length>0||n("."+L+t).length>0)&&i.setWalkmeTimeout(function(){0==n(".walkme-custom-highlighter-smarttipid-"+t).length&&0==n("."+L+t).length&&e.announce(p.getValue(N.LastInputValid))},100)}}function j(e){var t=[];if(e.PositiveFeedback&&!e.PositiveFeedback.IsWithIcon&&t.push(e.PositiveFeedback.Id),e.Validations)for(var n=0;n<e.Validations.length;n++)e.Validations[n].IsWithIcon||t.push(e.Validations[n].Id);return t}function K(i,r){var a=r.smartTipModel.Id,s=n("."+L+a),l=r.uiComponent;if(0!==s.length){G(s,a),o.bind("keydown",P,s);var u=l&&l.TooltipText;u&&(u=W(u),u=X(l.Type,u),e.elementWrapper(s,u)),t.setRole(s,I.smartTipIcon||"img");for(var d=s.find("*"),f=y.isFeatureEnabled(c.FEATURES.NoNonePresentation)?"presentation":"none presentation",m=0;m<d.length;m++)t.setRole(n(d[m]),f);var v="help";l.Type===c.SMART_TIP.COMPONENT_TYPE.Validation?v="Error":l.Type===c.SMART_TIP.COMPONENT_TYPE.PositiveFeedback&&(v="Valid Input"),s.attr("alt",v),$(s),b.showDummy(_,a)}}function G(t,n){var i=t.parent(".walkme-icon-root-SmartTip-"+n);i.removeAttr("tabindex"),e.addTabIndex(t,-1)}function q(e,t){var n=t.smartTipModel.Id;o.unbindSpecificByElementSelector("."+L+n,"keydown",P),b.hideDummy(_,n)}function X(e,t){switch(e){case c.SMART_TIP.COMPONENT_TYPE.Validation:return t+". "+p.getValue(N.PreviousFieldInvalid);case c.SMART_TIP.COMPONENT_TYPE.PositiveFeedback:return p.getValue(N.PreviousFieldValid)+": "+t;default:return t}}function z(e){for(var t=a.parse(e),i=S.parseElementAsJquery("<div>"+t+"</div>"),r=i.find("img"),o=0;o<r.length;o++){var s=n(r[o]),l=s.attr("alt");l&&s.replaceWith(". "+l+".")}var u=i[0];return u.textContent||u.innerText}function J(i,r){var a,s=r.uiComponent;if(s&&s.Id&&(a=s.Id),!a)return;var l="walkme-tooltip-"+a,u=n("#"+l);if(!u.length)return;o.bind("keydown",P,u),t.setRole(u,"tooltip");var d=n(u.selector+" iframe");e.addTabIndexToIframes(d);var f=e.getFocusablesInsideElement(u);T.setFocusBehavior(f);var m=r.smartTipModel.Id;if(s.Type!=c.SMART_TIP.COMPONENT_TYPE.Info&&!s.IsWithIcon){var v=g.getElementBySmartTipId(m)[0];if(v!==document.activeElement){var E=X(s.Type,s.TooltipText);e.announce(E)}}b.showDummy(B,m)}function Z(e,t){var n=t.uiComponent;if(n&&n.Id){var i=n.Id;if(i){var r="walkme-tooltip-"+i;o.unbindSpecificByElementSelector("#"+r,"keydown",P),b.hideDummy(B,t.smartTipModel.Id)}}}function $(e){o.bind("focus",function(){e.mouseover()},e),o.bind("blur",t,e);function t(t){if(t.shouldPreventDefault)return void t.preventDefault();var n=t.relatedTarget;n?ee(e,n):i.setWalkmeTimeout(function(){ee(e,document.activeElement)},0)}}function ee(e,t){var r=s.getIdByElement(e,L)||ne(e),a="."+k.smartTipTooltip+r,l=n(a)[0];if(l&&n.contains(l,t)){var u=n(a).find("*");o.bind("blur",c,u)}else e.mouseleave();function c(t){var n=t.relatedTarget;n?te(e,l,n):i.setWalkmeTimeout(function(){te(e,l,document.activeElement)},0)}}function te(e,t,i){i==e[0]||n.contains(t,i)||e.mouseleave()}function ne(e){var t=g.getSmartTipDetailsByElement(e);return t&&t.smartTipId}}},1124:function(e,t,n){var i=n(3835).Iy;i().register("MessageHandler").asCtor(r).dependencies("AriaAttributesSetter, Consts, AccessibilityConsts, DomManager, CommonUtils");function r(e,t,n,i,r){var a=this;a.handleMessages=s;var o=n.PARTIAL_SELECTORS.SURVEY;function s(e){var n=i.parseElementAsJquery(e.surveyObj.Questions),a=u(n),s=r.getJsonSettings(),f=s.surveyDialogDescribedBy;n.each(function(n,i){if(i.QuestionType==t.QUESTION_TYPES.Message){var r=e.surveyBalloon.find("#"+o.QUESTION+"-"+i.Id);if(0!=r.length){var s=r.find("."+o.QUESTION_TITLE),u=r.find("."+o.QUESTION_SUB_TITLE);a||l(e.surveyBalloon)||f?d(e.surveyBalloon,s,u,i.Id):(c(s,2),c(u,3))}}})}function l(e){return 1===e.find(".walkme-survey-questions ."+o.QUESTION).length}function u(e){var n=e.filter(function(){return this.QuestionType===t.QUESTION_TYPES.Message});return e.length===n.length}function c(t,n){t.attr("role","heading"),e.setAriaLevel(t,n)}function d(t,n,i,r){var a=o.QUESTION_TITLE+"-"+r,s=o.QUESTION_SUB_TITLE+"-"+r;n.attr("id",a),i.attr("id",s);var l=t.attr("aria-describedby")||"",u=l+" "+a+" "+s;e.setAriaDescribedBy(t,u)}}},5076:function(e,t,n){var i=n(3835).Iy;i().register("RequiredQuestionsHandler").asCtor(r).dependencies("Consts, AccessibilityConsts, DomManager");function r(e,t,n){var i=this;i.handleRquiredQuestions=r;function r(t){n.parseElementAsJquery(t.surveyObj.Questions).each(function(t,n){if(!s(n)&&(n.QuestionType==e.QUESTION_TYPES.RadioButton||n.QuestionType==e.QUESTION_TYPES.NPS)){var i=l(n.Id);a(i),o(i,n)}})}function a(e){var t=wmjQuery("legend",e),n=t.text()+" Required";t.text(n)}function o(e,i){var r=wmjQuery("."+t.PARTIAL_SELECTORS.SURVEY.QUESTION_TITLE,e),a=n.parseElementAsJquery("<span id='wm-required-question-"+i.Id+"' style='color:red;'> *</span>");r.append(a)}function s(e){var t=l(e.Id),n=t[0].querySelector(".walkme-survey-question-mandatory");return null!=n||!e.IsRequired}function l(e){return wmjQuery("#walkme-survey-question-"+e)}}},8090:function(e,t,n){var i=n(3835).Iy;i().register("SurveyContainerHandler").asCtor(r).dependencies("WmAccessibilityCommonUtils, CommonUtils, AriaAttributesSetter, AccessibilityConsts,ElementsHidingManager, wmjQuery, FeaturesManager");function r(e,t,n,i,r,a,o){var s=this;s.handleContainer=m;var l,u=i.FOCUSABLE_SELECTORS.SURVEY,c=i.PARTIAL_SELECTORS.SURVEY,d=i.DEPLOYABLE_TYPES.survey;function f(){var e=t.getCustomConfiguration()||{};l=e.surveyAccessibilitySettings&&e.surveyAccessibilitySettings.headingsRanking||{}}function m(s,l,f,m,y){T(s);var p=E(s,l);e.addTabIndex(a(p));var b=e.shouldDisableFocusLock(d,l.Id),h="1"==l.Settings.fadeBackground;e.handleFocusElements(s,p,u.CLOSE_LINK,h||!b),y||(o.isFeatureEnabled("surveyDelayFocus")?setTimeout(function(){p[0].focus()},20):p[0].focus()),t.setRole(s,f||"dialog"),n.setAriaLabel(s,m);var g=a("."+c.TITLE,s);if(g.attr("id",c.TITLE),v(g,l.Id),n.setAriaLabelledBy(s,c.TITLE),e.shouldAddAriaHidden(h,d,l.Id)){var S=s.attr("id");r.hideAllButPopup(s,S,i.EVENTS.BALLOON.DestroyStepBalloon)}}function v(e,t){var i=l[t]||l["default"];if(!i)return;e.attr("role","heading"),n.setAriaLevel(e,i)}function T(n){var i=a(u.CLOSE_LINK,n);t.setRole(i,"button"),e.setXButtonLabel(i),i.removeAttr("title"),o.isFeatureEnabled("focusXButtonFirst")||e.moveElementToEnd(n,u.CLOSE_LINK)}function E(e,t){for(var n=[],i=0;i<t.Questions.length;i++){var r=t.Questions[i],s=a("#"+c.QUESTION+"-"+r.Id,e),l=a("."+c.QUESTION_ANSWERS,s);n.push.apply(n,l.toArray())}var d=a(u.BUTTON,e);n.push.apply(n,d.toArray());var f=a(u.CLOSE_LINK,e);return o.isFeatureEnabled("focusXButtonFirst")?n.unshift.apply(n,f.toArray()):n.push.apply(n,f.toArray()),n}f()}},4315:function(e,t,n){var i=n(3835).Iy;i().register("SurveyHtmlStandardizer").asCtor(r).dependencies("Consts, DomManager");function r(e,t){var n=this;n.standardizeHtml=r;var i="wm-wrapper-question-";function r(e){a(e),o(),s(e)}function a(n){t.parseElementAsJquery(n.surveyObj.Questions).each(function(t,i){i.QuestionType==e.QUESTION_TYPES.RadioButton?n.surveyBalloon.find(".walkme-survey-answer-subtitle").remove():i.QuestionType==e.QUESTION_TYPES.CheckBox&&wmjQuery("label.walkme-survey-answer-label-checkbox").remove()})}function o(){wmjQuery("label.walkme-survey-answer-label-radiobutton").each(function(e,t){t.innerHTML="answer"+e,t.style.display="none"})}function s(n){t.parseElementAsJquery(n.surveyObj.Questions).each(function(t,n){n.QuestionType==e.QUESTION_TYPES.RadioButton||n.QuestionType==e.QUESTION_TYPES.CheckBox||n.QuestionType==e.QUESTION_TYPES.NPS||n.QuestionType==e.QUESTION_TYPES.Rating?(l(n),c(n)):n.QuestionType==e.QUESTION_TYPES.FreeText&&d(n)})}function l(t){var n,i,r=u(t);t.QuestionType==e.QUESTION_TYPES.RadioButton?(n="#walkme-survey-question-radiobutton-answers-",i=".walkme-survey-radiobutton-answer"):t.QuestionType==e.QUESTION_TYPES.CheckBox?(n="#walkme-survey-question-checkbox-answers-",i=".walkme-survey-question-checkbox-answer"):t.QuestionType==e.QUESTION_TYPES.NPS?(n="#walkme-survey-question-nps-answers-",i=".walkme-survey-nps-answer"):t.QuestionType==e.QUESTION_TYPES.Rating&&(n="#walkme-survey-question-rating-answers-",i=".walkme-survey-rating-answer");var a=wmjQuery(n+t.Id);a.find(i).wrapAll(r)}function u(t){var n=document.createElement("fieldset");return n.id=i+t.Id,n.style.border="none",n.style.padding=0,n.style.margin=0,t.QuestionType==e.QUESTION_TYPES.Rating&&(n.style.display="flex"),n}function c(e){var t=m("legend",f(e));wmjQuery("#"+i+e.Id).prepend(t)}function d(e){var t=m("label",f(e));t.setAttribute("for","walkme-survey-question-freetext-"+e.Id);var n=wmjQuery("#walkme-survey-question-freetext-answers-"+e.Id);n.prepend(t)}function f(e){var t=e.SubTitle?" "+e.SubTitle:"";return e.Title+t}function m(e,n){var i=document.createElement(e);return i.style.opacity=0,i.style.height=0,i.style["font-size"]=0,i.style.color="transparent",t.setInnerHTML(i,n),i}}},8364:function(e,t,n){var i=n(3835).Iy;i().register("SurveyAccessibilityHandler").asCtor(r).dependencies("WmAccessibilityCommonUtils, AriaAttributesSetter, AccessibilityConsts, SurveyHtmlStandardizer, MessageHandler, RequiredQuestionsHandler, SurveyContainerHandler, DefaultTextGetter, FocusTracker, ElementsGetter");function r(e,t,n,i,r,a,o,s,l,u){var c=this;c.init=T;var d,f,m,v;function T(e,t){E(),f=e,m=t,v=n.FOCUSABLE_SELECTORS.SURVEY}function E(){var e=n.EVENTS.SURVEY;_walkmeInternals.bind(e.SurveyBalloonDisplayed,y),_walkmeInternals.bind(e.SurveyQuestionCountSet,p),_walkmeInternals.bind(e.SurveyClosed,l.focus),_walkmeInternals.bind(e.RatingCommentGenerated,b)}function y(e,t){d=t,l.addToStack(u.findLastFocusedElement(),n.FOCUS_TRACKING_ELEMENTS_TYPES.survey),i.standardizeHtml(d),a.handleRquiredQuestions(d),r.handleMessages(d),o.handleContainer(d.surveyBalloon,d.surveyObj,f.survey,m.survey)}function p(i,r){var a=wmjQuery(v.QUESTION_NUMBER,r.balloonDiv);e.addTabIndex(a);var o=a.text().split("/"),l=s.getValue(n.DEFAULT_TEXT_KEY.QuestionInfoText);l=l.replace("{0}",o[0]),l=l.replace("{1}",o[1]),t.setAriaLabel(a,l)}function b(e){o.handleContainer(d.surveyBalloon,d.surveyObj,f.survey,m.survey,!0)}}},8012:function(e,t,n){var i=n(3835).Iy;function r(e){return 1===e.length&&"a"===e.first().prop("tagName").toLowerCase()}function a(e,t){t=l(t,0),e.attr("tabIndex",t),o(e)}function o(e){if(e.is("textarea"))return;e.off("keydown",s),e.on("keydown",s)}function s(e){var t=wmjQuery(this);13!=e.which||e.shiftKey||((r(t)?t[0]:t).click(),e.preventDefault(),e.stopPropagation())}function l(e,t){return"undefined"!=typeof e&&null!=e?e:t}function u(e,t,n){a(e,t),i().get("FocusBehaviorSetter").setFocusBehavior(e,n)}function c(){var e=i().get("FeaturesManager");return e.isFeatureEnabled("jawsAccessibility")||e.isFeatureEnabled("accessibility")}function d(){i().decorate("CommonUtils",function(e){return c()||(e.addTabIndex=u),e})}e.exports={overrideAddTabIndexIfNeeded:d}},6046:function(e,t,n){var i=n(3835).Iy;i().register("WalkThruAccessibilityHandler").asCtor(r).dependencies("FocusTracker");function r(e){var t=this;t.init=r;var n,i;function r(e,t){a(),n=e,i=t}function a(){_walkmeInternals.bind("UserStoppedWalkthru",e.focus),_walkmeInternals.bind("TutorialStopped",o)}function o(t,n){n&&e.focus()}}},6143:function(e,t,n){var i=n(3835).Iy;i().register("DummyLastElementAdder").asCtor(r).dependencies("wmjQuery, WmAccessibilityCommonUtils, Consts, EventHandlerBindingManager, ElementLastKeeper, DefaultTextGetter, AccessibilityConsts");function r(e,t,n,i,r,a,o){var s=this;s.add=l,s.reAdd=u;function l(){var s=e('<div id="walkme-dummy-last-element" class="walkme-to-destroy" tabindex="0">');e("body").append(s),s.focus(function(e,n){(!n||n&&!n.isAlreadyFocused)&&t.announce(a.getValue(o.DEFAULT_TEXT_KEY.EndOfPage))}),r.addElement(s,!0),i.bind(n.EVENTS.WidgetPlayer.PlayerBuilt,function(){u()})}function u(){e("#walkme-dummy-last-element").appendTo(e("body"))}}},9589:function(e,t,n){var i=n(3835).s;e.exports=i(function(e){n(7814),n(395),n(1124),n(5076),n(8090),n(4315),n(8364),n(5674),n(4082),n(1559),n(499),n(6495),n(2243),n(3004),n(2614),n(2072),n(838),n(5982),n(6046),n(6202),n(7925),n(9196),n(952),n(3776),n(8127),n(2635),n(834),n(4228),n(2572),n(463),n(8837),n(6851),n(8252),n(4219),n(5934),n(3049),n(7160),n(4428),n(3689),n(3283),n(8838),n(1466),n(6492),n(9138),n(1205),n(6143),n(2994),n(946);var t=n(2066).y;e(new t)})},946:function(e,t,n){var i=n(3835).Iy;i().register("DefaultTextGetter").asCtor(r).dependencies("AccessibilityGeneralManager, AccessibilityConsts, TextsTranslator");function r(e,t,n){var i=this;i.getValue=r;function r(n){return e.getValue(n)||a(n)||t.TEXTS[n]}function a(e){var i=t.SETTINGS_TRANSLATIONS_TEXTS_KEYS[e];return i&&n.translate(i)}}},2994:function(e,t,n){var i=n(3835).Iy;i().register("TextsTranslator").asCtor(r).dependencies("AccessibilityConsts, LanguageManager");function r(e,t){var n=this;n.init=r,n.translate=a;var i;function r(e){i=e}function a(n){var r=t.getCurrentLanguage(),a=i[r]||{};return a[n]||e.TEXTS[n]}}},8838:function(e,t,n){var i=n(3835).Iy;i().register("AccessibilityLogger").asCtor(r).dependencies("PrelibLogger");function r(e){var t=this;t.write=n;function n(t){e.write("[Accessibility plugin] "+t)}}},2572:function(e,t,n){var i=n(3835).Iy;i().register("AriaAttributesSetter").asCtor(r);function r(){var e=this;e.setAriaLabel=t,e.setAriaLabelledBy=n,e.setAriaDescribedBy=i,e.setAriaLevel=a,e.setAriaHidden=o,e.appendAriaDescribedBy=r;function t(e,t){s(e,"aria-label",t)}function n(e,t){s(e,"aria-labelledby",t)}function i(e,t){s(e,"aria-describedby",t)}function r(e,t){l(e,"aria-describedby",t)}function a(e,t){s(e,"aria-level",t)}function o(e,t){s(e,"aria-hidden",t)}function s(e,t,n){for(var i=0;i<e.length;i++)e[i].setAttribute(t,n)}function l(e,t,n){for(var i=0;e&&i<e.length;i++)e[i].setAttribute(t,[e[i].getAttribute(t),n].join(" ").trim())}}},463:function(e,t,n){var i=n(3835).Iy;i().register("DesignTemplatePlaceholdersRolesSetter").asCtor(r);function r(){var e=this;e.setDefaultRoleForActionPlaceholders=n;var t="button";function n(e){var n=wmjQuery("[wm-action-placeholder]:not([role])",e);n.each(function(){this.setAttribute("role",t)})}}},6851:function(e,t,n){var i=n(3835).Iy;i().register("DialogTabbaleElementsPreparer").asCtor(r).dependencies("WmAccessibilityCommonUtils, wmjQuery");function r(e,t){var n=this;n.prepareTabbableElements=i;function i(t,n,i,o){a(n,t,i),l(t),u(t);var s=e.getFocusablesInsideElement(t,!0,o);return r(t.attr("id"),s),s}function r(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.id||(i.id=e+"-focusable-element-"+n)}}function a(n,i,r){var a=o(n,i,r);e.addTabIndex(t(a))}function o(e,n,i){var r=[];for(var a in e)if(e.hasOwnProperty(a)){var o=t(e[a],n);o.each(function(){var e=t(this);s(e,i)&&r.push(e[0])})}return r}function s(t,n){return"none"!=t.css("display")&&(!n||e.checkIfElementNotEmpty(t))}function l(n){var i=t("iframe",n);e.addTabIndexToIframes(i)}function u(n){var i=t("[wm-action-placeholder]",n);e.addTabIndex(i)}}},8837:function(e,t,n){var i=n(3835).Iy;i().register("DialogTextSetter").asCtor(r).dependencies("AriaAttributesSetter, WmAccessibilityCommonUtils");function r(e,t){var n=this;n.setText=i;function i(t,n,i,o){var s=r(t,n,i);s&&e.setAriaLabelledBy(t,s);var l=a(t,n,o);l&&e.setAriaDescribedBy(t,l)}function r(e,n,i){var r,a,l=wmjQuery("[wm-title]",e);return 0!=l.length?a=s(l,n):(l=i&&wmjQuery("."+i,e),a=i+"-"+n),l&&0!=l.length&&t.checkIfElementNotEmpty(l)&&(r=o(l,a)),r}function a(e,t,n){for(var i=wmjQuery("[wm-placeholder]:not([wm-title])",e),r="",a=0;a<i.length;a++){var l=wmjQuery(i[a]),u=o(l,s(l,t));r+=u+" "}if(!r){var c=wmjQuery("."+n,e);r=o(c,n+"-"+t)}return r}function o(e,t){var n=e.attr("id");return n||(n=t,e.attr("id",n)),n}function s(e,t){var n=e.attr("wm-placeholder");return"placeholder-"+n+"-"+t}}},4428:function(e,t,n){var i=n(3835).Iy;i().register("ElementsGetter").asCtor(r).dependencies("AccessibilityUtils, AccessibilityConsts, wmjQuery, SmartTipElementsGetter");function r(e,t,n,i){var r=this;r.findLastFocusedElement=u,r.getAllTabbablesOnPageOrdered=a,r.getNonWalkmeTabbablesOrdered=s;function a(){var t=o();return e.orderElementsByTabIndex(t)}function o(){return n(":tabbable, "+l()).filter(function(){return"none"!=n(this).css("display")})}function s(){var e=o();return e.filter(function(){var e=n(this)[0];return e.className.indexOf("walkme")===-1||"walkme-player"===e.id})}function l(){return"[id^="+t.DUMMY_ELEMENT_ID_PREFIX+"]"}function u(){var e=n(document.activeElement);return e=e.length&&e[0].shadowRoot?n(e[0].shadowRoot.activeElement):e,i.findLastFocusedElement(e)||e}}},4219:function(e,t,n){var i=n(3835).Iy;i().register("ElementsHidingManager").asCtor(r).dependencies("AriaAttributesSetter, EventsListener, wmjQuery");function r(e,t,n){var i=this;i.hideAllButPopup=o;var r=[],a=[];function o(i,r,o){0===a.length&&s(),a.push(r),e.setAriaHidden(n("body").children(),!0),e.setAriaHidden(i,!1),t.once(o,function(){l(r)})}function s(){var e=n("body").children("[aria-hidden]");r=n.map(e,function(e){var t=n(e);return{element:t,val:t.attr("aria-hidden")}})}function l(e){u(e),0===a.length&&(n("body").children().removeAttr("aria-hidden"),c())}function u(e){var t=n.inArray(e,a);t!==-1&&a.splice(t,1)}function c(){for(var t=0;t<r.length;t++){var n=r[t];e.setAriaHidden(n.element,n.val)}r=[]}}},5934:function(e,t,n){var i=n(3835).Iy;i().register("FocusBehaviorSetter").asCtor(r).dependencies("wmjQuery, AccessibilityConsts, FeaturesManager, Consts, EventsListener");function r(e,t,n,i,r){var a=this;a.setFocusBehavior=v;var o,s,l="walkme-disable-default-focus",u="walkme-accessible-focus",c="walkme-outline-handled";function d(){o=n.isFeatureEnabled(t.FEATURES.AutoFocusRing),s="mousedown"+i.EVENTS.PropagationStoppedSuffix,o||e("body").on("keydown",f)}function f(n){n.which==t.KEY_CODES.TAB&&(o=!0,e("body").off("keydown",f).on("mousedown",m),r.on(s,m))}function m(t){o=!1,e("body").off("mousedown",m).on("keydown",f),r.off(s,m)}function v(t,n){var i;n=n||u;for(var r=0;r<t.length;r++){var a=e(t[r]);a.hasClass(c)||(a.addClass(c),a.focus(d).mousedown(s).blur(m))}function s(e){i="mousedown"===e.type}function d(){var t=f();e(this).addClass(t)}function f(){return o&&!i?n:l}function m(){i=!1,e(this).removeClass(n).removeClass(l)}}d()}},3049:function(e,t,n){var i=n(3835).Iy;i().register("FocusLockChecker").asCtor(r).dependencies("StepDataGetter, ShoutOutsManager, SurveysManager, WmAccessibilityCommonUtils, IdGetter, AccessibilityConsts");function r(e,t,n,i,r,a){var o=this;o.isFocusLocked=l;var s=a.DEPLOYABLE_TYPES;function l(){return u()||d()||c()||f()||m()}function u(){return wmjQuery(".walkme-splash").length>0}function c(){var t=wmjQuery(".walkme-custom-balloon-outer-div");if(t.length>0){var n=e.getActiveStepData();if(n)return n.isFocusLockEnabled}return!1}function d(){return wmjQuery("#walkme-content-light-box").length>0}function f(){var e=wmjQuery(".walkme-survey-balloon");if(e.length>0)for(var t=0;t<e.length;t++){var o=wmjQuery(e[t]),l=r.getIdByElement(o,a.ELEMENT_TYPES_PREFIX.survey),u=n.getById(l),c=i.shouldDisableFocusLock(s.survey,l),d="1"==u.Settings.fadeBackground;return d||!c}return!1}function m(){var e=wmjQuery(".wm-outer-div.wm-shoutout");if(e.length>0)for(var n=0;n<e.length;n++){var o=wmjQuery(e[n]),l=r.getIdByElement(o,a.ELEMENT_TYPES_PREFIX.shoutout),u=t.getById(l),c=!!u.Settings.overlay,d=i.shouldDisableFocusLock(s.shoutout,l);return c||!d}return!1}}},8252:function(e,t,n){var i=n(3835).Iy;i().register("IdGetter").asCtor(r);function r(){var e=this;e.getIdByElement=t;function t(e,t){return n(e,t)}function n(e,t){var n=e.attr("class");if(!n)return;var i=n.split(" ");if(i)for(var r=0;r<i.length;r++)if(0==i[r].indexOf(t))return i[r].substring(t.length)}}},3283:function(e,t,n){var i=n(3835).Iy;i().register("IframeTabOrderWrapper").asCtor(r).dependencies("DomManager, FeaturesManager");function r(e,t){var n=this;n.wrapIframes=i;function i(e){if(t.isFeatureEnabled("ignoreIframeWrap"))return;for(var n=e||wmjQuery("iframe"),i=0;i<n.length;i++){var a=wmjQuery(n[i]);if("walkme-hidden-iframe"===a.attr("id"))return;var o=r("before"),s=r("after");o.insertBefore(a),s.insertAfter(a)}}function r(t){return e.parseElementAsJquery('<div class="walkme-to-destroy walkme-iframe-wrapper-'+t+'" tabindex="0" style="width: 1px;position: absolute;left: -10000px;" aria-label="'+t+' iframe"></div>')}}},1466:function(e,t,n){var i=n(3835).Iy;i().register("SmartTipExistenceChecker").asCtor(r).dependencies("BusinessSolutionsManager");function r(e){var t=this;t.doSmartTipsExist=n;function n(){var t=e.getDeployablesDict();for(var n in t)if(t[n].SmartTips&&t[n].SmartTips.length>0)return!0;return!1}}},9138:function(e,t,n){var i=n(3835).Iy;i().register("SmartTipIdentifier").asCtor(r);function r(){var e=this;e.isSmartTipIconElement=t;function t(e){return e.hasClass("walkme-custom-icon-outer-div")&&!e.hasClass("walkme-custom-launcher-outer-div")}}},6492:function(e,t,n){var i=n(3835).Iy;i().register("StepDataGetter").asCtor(r).dependencies("FlowsContainer, FlowStack, WmAccessibilityCommonUtils, Lib, Consts, AccessibilityConsts");function r(e,t,n,r,a,o){var s=this;s.getActiveStepData=u;var l=o.DEPLOYABLE_TYPES;function u(){return c()?f():d()}function c(){return void 0!=r.getCurrentTutorial()&&i().get("CurrentWalkthruData").state!=a.WALKTHRU_STATE.NOT_RUNNING}function d(){var n=t.peek();if(!n)return;var i=e.getNodeById(n.flowId,n.stageId),r=i&&i.UIElements&&i.UIElements[0];if(!r)return;var a=m(r),o="Popup"===r.Type,s=r.AccessibilityConfigs&&r.AccessibilityConfigs.length>0?r.AccessibilityConfigs[0]:{},u={deployableType:l.SWT,spotlight:a,isPopup:o,id:r.Id,isFocusGrabEnabled:0!=s.IsFocusGrabEnabled,ariaLabel:s.AriaLabel,identifySettings:s.IdentifySettings};return u.isFocusLockEnabled=v(u,0!=s.IsFocusLockEnabled),u}function f(){var e=i().get("CurrentWalkthruData").getCurrentStep();if(e){var t=m(e),n=e.AccessibilityConfigs&&e.AccessibilityConfigs.length>0?e.AccessibilityConfigs[0]:{},r={deployableType:l.WT,spotlight:t,isPopup:i().get("StepUtils").isPopupStep(e),id:e.Id,isFocusGrabEnabled:0!=n.IsFocusGrabEnabled,ariaLabel:n.AriaLabel,identifySettings:n.IdentifySettings};return r.isFocusLockEnabled=v(r,0!=n.IsFocusLockEnabled),r}}function m(e){return"1"==e.Settings.fadeBackground||1==e.Settings.fadeBackground||"True"==e.Settings.fadeBackground||"1"==e.Settings.ioEnabled}function v(e,t){var i=n.shouldDisableFocusLock(e.deployableType,e.id);return e.spotlight||e.isFocusGrabEnabled&&t&&!i}}},1205:function(e,t,n){var i=n(3835).Iy;i().register("AllowedTabbableElementFinder").asCtor(r).dependencies("wmjQuery, AccessibilityConsts");function r(e,t){var n=this;n.findNext=i;function i(n,i){for(var r=n+1;r<i.length;r++){var a=e(i[r]);if(0===a.parents(t.ELEMENTS_SELECTORS.SMART_TIP.tooltip).length)return a}}}},3776:function(e,t,n){var i=n(3835).Iy;i().register("WmAccessibilityCommonUtils").asCtor(r).dependencies("CommonUtils, TimerManager, AccessibilityUtils, FocusBehaviorSetter, AriaAttributesSetter, DefaultTextGetter, ArrayUtils, AccessibilityConsts,IframeTabOrderWrapper,FeaturesManager");function r(e,t,n,i,r,a,o,s,l,u){var c=this;c.init=y,c.moveElementToEnd=n.moveElementToEnd,c.moveElementToStart=n.moveElementToStart,c.elementWrapper=S,c.handleFocusElements=I,c.addTabIndex=A,c.bindEscToClose=C,c.setXButtonLabel=k,c.lockFocus=O,c.getFocusablesInsideElement=n.getFocusablesInsideElement,c.checkIfElementNotEmpty=w,c.shouldDisableFocusLock=b,c.shouldAddAriaHidden=h,c.addTitlesToFrames=p,c.bindSpacePressToClick=x,c.unbindSpacePressToClick=U,c.announce=n.announce,c.isWMElement=N,c.isWMBalloon=D,c.isElementOnScreen=F,c.addTabIndexToIframes=L,c.getKeyByValue=M,c.findWidgetinElementList=R,c.findElementAboveBalloon=Q,c.findCorrectElementToTabTo=H,c.findElementInList=Y;var d,f,m=27,v=9,T=32,E=s.DEFAULT_TEXT_KEY;function y(e,t){d=e,f=t}function p(e){t.libSetTimeout(function(){for(var t=wmjQuery("iframe",e),n=0;n<t.length;n++)t.eq(n).attr("title")||t.eq(n).attr("title",a.getValue(E.UntitledIframe))})}function b(e,t){var n=d[e];return n&&(n.disableAll&&"true"==n.disableAll.toLowerCase()||n.disableIds&&0!=n.disableIds.length&&o.inArray(t.toString(),n.disableIds)!=-1)}function h(e,t,n){if(!f)return!1;return e||g(t,n)}function g(e,t){var n=e?f[e]:void 0;return n&&(o.inArray("*",n)!==-1||o.inArray(t.toString(),n)!==-1)}function S(e,t,n){var i=t;n&&(t?i+=". "+n:i=n),i&&e&&r.setAriaLabel(e,i)}function I(e,t,n,r,a){e.attr("tabIndex",0),i.setFocusBehavior(e),i.setFocusBehavior(t);var o=wmjQuery(n,e);C(e,o),r&&O(e,t,a)}function w(e){return wmjQuery.trim(e.text())||0!=e[0].childNodes.length&&!(1==e[0].childNodes.length&&(1==e.has("div").length||e.text()))}function A(t,n){for(var i=0;i<t.length;i++)e.addTabIndex(t.eq(i),n?n:0)}function C(e,t){t.length>0&&wmjQuery(e).keydown(function(e){e.keyCode===m&&t.click()})}function k(e,t){r.setAriaLabel(e,t||a.getValue(E.Close))}function L(e){A(e),u.isFeatureEnabled("innerIframesWrap")&&l.wrapIframes(e)}function O(e,t,n){e.keydown(function(i){if(i.which==v){var r=wmjQuery(document.activeElement);r=r[0]?r[0]:e[0],r=r.shadowRoot?r.shadowRoot.activeElement:r,i.shiftKey?r!=t[0]&&r!=e[0]||(n&&n.length?c.getFocusablesInsideElement(n).last().focus():t[t.length-1].focus(),i.preventDefault()):r==t[t.length-1]&&(n&&n.length?c.getFocusablesInsideElement(n).first().focus():t[0].focus(),i.preventDefault())}})}function F(e){var t=_(e);if(t)return!0;var n=B(e);return n&&_(n)}function _(e){return wmjQuery.contains(document.documentElement,wmjQuery(e)[0])}function B(e){for(var t=wmjQuery(e)[0];t&&!t.host;)t=t.parentNode;if(t)return t.host}function N(e){if(!e)return!1;var t=e.id;if(t&&t.indexOf&&t.indexOf("walkme")>=0)return!0;var n=e.className;return n&&n.indexOf&&(n.indexOf("walkme")>=0||n.indexOf("wmd")>=0||n.indexOf("wm-")>=0)}function D(e){if(!e)return!1;var t=e.className;return t&&t.indexOf&&t.indexOf("walkme-custom-balloon-outer-div")>=0}function P(e){e.which===T&&(e.preventDefault(),e.stopPropagation(),e.currentTarget.click())}function x(e,t){t?wmjQuery(t).on("keypress.accessibility",e,P):wmjQuery(e).on("keypress.accessibility",P)}function U(e,t){t?wmjQuery(t).off("keypress.accessibility",e,P):wmjQuery(e).off("keypress.accessibility",P)}function M(e,t){return Number(Object.keys(e).find(function(n){return e[n]===t}))}function R(e){for(var t,n=0;n<e.length;n++)if(t=e[n],t.id.indexOf("walkme-player")!=-1)return t}function Q(e){for(var t,n,i=0;i<e.length;i++)if(t=e[i],n=e[i+1],n.className.indexOf("walkme-custom-balloon-outer-div")>=0)return t}function H(e,t,n,i){var i=i||0,r=Y(n);r=void 0!==r?r.focusTrackingDetails.elementToKeep[0]:t;var a=M(e,r);if(!Number.isFinite(a))var o=t.last(),a=c.getKeyByValue(e,o[0]);if(!e[a+i])return e[0];return e[a+i]}function Y(e){if(0===Object.keys(e).length)return;for(var t=0;t<Object.keys(e).length;t++)if(void 0!==Object.values(e)[t])return Object.values(e)[t]}}},8127:function(e,t,n){var i=n(3835).Iy;i().register("WmAccessibilityCss").asCtor(r).dependencies("ResourceManager, FeaturesManager, SettingsFile");function r(e,t,i){var r=this;r.getCss=l;var a,o="walkme-accessibility-css";r.init=function(){if(t.isFeatureEnabled("inlineStyleCspSupport"))s();else{var n=l();e.injectCss(n,o,wmjQuery("head"))}};function s(){var t=i.getSettingsFile().Styles+"/accessibility/";e.injectCssFile(t+"wmAccessibilityCss.css",{cssId:o})}function l(){return a||(a=n(7326)),a}}},834:function(e,t,n){var i=n(3835).Iy;i().register("WmAccessibilityInitializer").asCtor(r).dependencies("FeaturesManager, CommonUtils, WmAccessibilityCss, BizFlowAccessibilityHandler, LauncherAccessibilityHandler, ResourceAccessibilityHandler, ShoutoutAccessibilityHandler, SmartTipAccessibilityHandler, SurveyAccessibilityHandler, WalkThruAccessibilityHandler, ShuttleAccessibilityHandler, MenuAccessibilityHandler, WmAccessibilityCommonUtils, BBCodeAccessibilityHandler, BallonCreatedAccessibilityHandler, TextsTranslator, IframeTabOrderWrapper, LiveChatAccessibilityHandler, ShoutoutVisualDesignAccessibilityHandler");function r(e,t,n,i,r,a,o,s,l,u,c,d,f,m,v,T,E,y,p){var b,h,g,S,I=this;I.init=function(){if(!e.isFeatureEnabled("jawsAccessibility")&&!e.isFeatureEnabled("accessibility")){n.init();var i=t.getCustomConfiguration();b=i.deployablesRoles||{},h=i.deployablesAriaLabels||{},g=i.accessibilityFocusLock||{};var r=i.accessibilityMultilang||{};S=i.accessibilityHidePopupBackground,T.init(r),w(),E.wrapIframes()}};function w(){f.init(g,S),m.init(b,h),i.init(b,h),r.init(b,h),d.init(b,h),a.init(b,h),o.init(b,h),s.init(b,h),l.init(b,h),u.init(b,h),c.init(b,h),v.init(b,h),y.init(b,h),p.init(),f.announce("")}}},3835:function(e,t){var n,i,r={createPluginEntry:a,getCtx:o};function a(e){return function(t){i=t(),e(s)}}function o(){return i.ctx}function s(e){i.plugin(e)}n=!0,n=r,t.s=r.createPluginEntry,t.Iy=r.getCtx},7326:function(e){"use strict";e.exports="#walkme-current-language {\n\tpadding: 3px !important;\n}\n\n.walkme-tab-button {\n\toutline-offset: -3px;\n}\n\n.walkme-accessible-focus:focus {\n\toutline: 3px solid #369cd9 !important;\n}\n\n.walkme-survey-answer-nps-radiobutton.walkme-accessible-focus:focus + label {\n\toutline: 3px solid #369cd9 !important;\n}\n\n.walkme-survey-answer-rating-radiobutton.walkme-accessible-focus:focus + label {\n\toutline: 3px solid #369cd9 !important;\n}\n\n.walkme-disable-default-focus {\n\toutline: 0px !important;\n}\n\n.walkme-menu-open-notie .walkme-category .walkme-accessible-activatable-focus.walkme-deployable-row:focus,\n.walkme-menu-open-notie .walkme-activatable.walkme-accessible-activatable-focus:focus,\n.walkme-menu-open-notie .walkme-deployable-row.walkme-accessible-activatable-focus:focus {\n\toutline: 0;\n\t-webkit-box-shadow: inset 0px 0px 0px 2px #3c9dd7;\n\t-moz-box-shadow: inset 0px 0px 0px 2px #3c9dd7;\n\toutline: solid 2px #7dc7ea !important;\n\toutline-offset: -2px;\n}\n\n.walkme-menu-open-ie .walkme-category .walkme-accessible-activatable-focus.walkme-deployable-row:focus,\n.walkme-menu-open-ie .walkme-activatable.walkme-accessible-activatable-focus:focus,\n.walkme-menu-open-ie .walkme-deployable-row.walkme-accessible-activatable-focus:focus {\n\toutline: solid 3px #7dc7ea !important;\n\toutline-offset: -2px;\n}\n\n.walkme-search-box.walkme-accessible-focus:focus {\n\tbox-shadow: inset 0px 0px 0px 2px #3c9dd7;\n}\n\n#wt-cannot-be-played {\n\tdisplay: block;\n\tmargin-top: 0.67em;\n\tmargin-bottom: 0.67em;\n\tmargin-left: 0;\n\tmargin-right: 0;\n\tfont-weight: bold;\n\tcolor: #373737;\n\tfont-size: 14px;\n\tborder: none;\n\tmargin: 10px;\n\tword-wrap: break-word;\n}\n";
}},n={};function i(t){var r=n[t];if(void 0!==r)return r.exports;var a=n[t]={exports:{}};return e[t](a,a.exports,i),a.exports}var r=i(5969);t=r}(),t});